
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python library for time series forecasting using machine learning models. It works with any estimator compatible with the scikit-learn API, including popular options like LightGBM, XGBoost, CatBoost, Keras, and many others.">
      
      
        <meta name="author" content="Joaquin Amat Rodrigo and Javier Escobar Ortiz">
      
      
        <link rel="canonical" href="https://skforecast.org/0.19.0/api/preprocessing.html">
      
      
        <link rel="prev" href="feature_selection.html">
      
      
        <link rel="next" href="drift_detection.html">
      
      
        
      
      
      <link rel="icon" href="../img/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>preprocessing - Skforecast Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-GR8X9Z9LKL"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-GR8X9Z9LKL",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-GR8X9Z9LKL",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="light" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#preprocessing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
          <aside class="md-banner md-banner--warning">
            <div class="md-banner__inner md-grid md-typeset">
              
  <div class="md-banner md-banner--warning">
  This is documentation for an unstable development version.
  
    <a href="../.." id="version-switch-link">
      <strong>Switch to latest stable version.</strong>
    </a>
  
</div>

            </div>
            <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL(".."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script>
          </aside>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Skforecast Docs" class="md-header__button md-logo" aria-label="Skforecast Docs" data-md-component="logo">
      
  <img src="../img/logo-skforecast.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Skforecast Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              preprocessing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/skforecast/skforecast" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../index.html" class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../introduction-forecasting/introduction-forecasting.html" class="md-tabs__link">
        
  
  
    
  
  Intro to Forecasting

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../quick-start/quick-start-skforecast.html" class="md-tabs__link">
          
  
  
  Quick start

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../user_guides/table-of-contents.html" class="md-tabs__link">
          
  
  
  User Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../examples/examples_english.html" class="md-tabs__link">
          
  
  
  Examples and tutorials

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="ForecasterRecursive.html" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../faq/table-of-contents.html" class="md-tabs__link">
          
  
  
  FAQ and Tips

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../releases/releases.html" class="md-tabs__link">
        
  
  
    
  
  Releases

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../more/about-skforecast.html" class="md-tabs__link">
          
  
  
  More

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Skforecast Docs" class="md-nav__button md-logo" aria-label="Skforecast Docs" data-md-component="logo">
      
  <img src="../img/logo-skforecast.png" alt="logo">

    </a>
    Skforecast Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/skforecast/skforecast" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome to skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction-forecasting/introduction-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Intro to Forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Quick start
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Quick start
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/quick-start-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick start
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/forecaster-parameters.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecaster Parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/forecaster-attributes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecaster Attributes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quick-start/how-to-install.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to install
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/table-of-contents.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table of contents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/migration-guide.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skforecast Migration guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/input-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Input data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Single series Forecasters
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Single series Forecasters
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/autoregressive-forecaster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recursive multi-step forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/direct-multi-step-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Direct multi-step forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecasting-baseline.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting baseline
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/autoregressive-classification-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autoregressive classification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Global Forecasters (multiple series)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Global Forecasters (multiple series)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/independent-multi-time-series-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Independent multi-time series forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/multi-series-with-different-length-and-different_exog.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Series with different lengths and different exogenous variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/dependent-multi-series-multivariate-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dependent multivariate series forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecasting-with-deep-learning-rnn-lstm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deep learning Recurrent Neural Networks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Statistical Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Statistical Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecasting-sarimax-arima.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARIMA and SARIMAX
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecasting-arar.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ARAR
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_7" >
        
          
          <label class="md-nav__link" for="__nav_4_7" id="__nav_4_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Feature Engineering
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Feature Engineering
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/exogenous-variables.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exogenous variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/window-features-and-custom-features.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Window and custom features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/categorical-features.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Categorical features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/calendar-features.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Calendars features
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/sklearn-transformers-and-pipeline.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data transformation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/time-series-differentiation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Differentiation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/feature-selection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Feature selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/sktime-pipelines.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sktime pipelines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_8" >
        
          
          <label class="md-nav__link" for="__nav_4_8" id="__nav_4_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Model Evaluation and Tuning
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Model Evaluation and Tuning
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/metrics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/backtesting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backtesting forecaster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/hyperparameter-tuning-and-lags-selection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hyperparameter tuning and lags selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/feature-selection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Feature selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_9" >
        
          
          <label class="md-nav__link" for="__nav_4_9" id="__nav_4_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Probabilistic Forecasting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Probabilistic Forecasting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-overview.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-bootstrapped-residuals.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bootstrapped residuals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-conformal-prediction.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conformal predictions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-conformal-calibration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conformal calibration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-quantile-regression.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quantile forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-global-models.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Probabilistic global models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/probabilistic-forecasting-metrics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metrics in probabilistic forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/probabilistic-forecasting-crps-score.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Ranked Probability Score (CRPS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/explainability.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Explainability
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/drift-detection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Drift Detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_12" >
        
          
          <label class="md-nav__link" for="__nav_4_12" id="__nav_4_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Model Deployment
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Model Deployment
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/save-load-forecaster.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Save and load forecaster
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecaster-in-production.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecaster in production
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/plotting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plotting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/datasets.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_15" >
        
          
          <label class="md-nav__link" for="__nav_4_15" id="__nav_4_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Additional Resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Additional Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/training-and-prediction-matrices.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Extract training and prediction matrices
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/weighted-time-series-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Weighted time series forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/stacking-ensemble-models-forecasting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Stacking multiple models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/forecasting-xgboost-lightgbm.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting with XGBoost and LightGBM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_guides/skforecast-in-GPU.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Skforecast in GPU
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_16" >
        
          
          <label class="md-nav__link" for="__nav_4_16" id="__nav_4_16_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    FAQ and forecasting tips
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_16_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_16">
            <span class="md-nav__icon md-icon"></span>
            
  
    FAQ and forecasting tips
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/non-negative-predictions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Avoid negative predictions when forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/forecasting-time-series-with-missing-values.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting time series with missing values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/forecasting-with-delayed-historical-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting with delayed historical data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/parameters-search-backtesting-vs-one-step-ahead.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backtesting vs One-step-ahead
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/probabilistic-forecasting-crps-score.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Ranked Probability Score (CRPS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/probabilistic-forecasting-calibrate-intervals.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Calibration of probabilistic forecasting intervals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/cyclical-features-time-series.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cyclical features in time series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/time-series-aggregation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time series aggregation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/skforecast-benchmark.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/benchmark-statistical-models.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking statistical models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/parallelization-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallelization in skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/profiling-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiling skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Examples and tutorials
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Examples and tutorials
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/examples_english.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    English
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/examples_spanish.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spanish
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../examples/examples_chinese.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chinese (中文)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    recursive
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    recursive
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterRecursive.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterRecursive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterRecursiveClassifier.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterRecursiveClassifier
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterRecursiveMultiSeries.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterRecursiveMultiSeries
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterStats.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterStats
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterEquivalentDate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterEquivalentDate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterSarimax.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterSarimax
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    direct
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    direct
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterDirect.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterDirect
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterDirectMultiVariate.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterDirectMultiVariate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    deep_learning
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    deep_learning
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ForecasterRnn.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ForecasterRnn
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="stats.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    stats
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="model_selection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    model_selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="feature_selection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    feature_selection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    preprocessing
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="preprocessing.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    preprocessing
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures" class="md-nav__link">
    <span class="md-ellipsis">
      
        RollingFeatures
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RollingFeatures">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.n_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        n_stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.window_sizes" class="md-nav__link">
    <span class="md-ellipsis">
      
        window_sizes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.max_window_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        max_window_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.min_periods" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_periods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.features_names" class="md-nav__link">
    <span class="md-ellipsis">
      
        features_names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.fillna" class="md-nav__link">
    <span class="md-ellipsis">
      
        fillna
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.kwargs_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        kwargs_stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.unique_rolling_windows" class="md-nav__link">
    <span class="md-ellipsis">
      
        unique_rolling_windows
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures._repr_html_" class="md-nav__link">
    <span class="md-ellipsis">
      
        _repr_html_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures._validate_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        _validate_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_pandas" class="md-nav__link">
    <span class="md-ellipsis">
      
        _apply_stat_pandas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform_batch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_numpy_jit" class="md-nav__link">
    <span class="md-ellipsis">
      
        _apply_stat_numpy_jit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification" class="md-nav__link">
    <span class="md-ellipsis">
      
        RollingFeaturesClassification
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RollingFeaturesClassification">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.n_stats" class="md-nav__link">
    <span class="md-ellipsis">
      
        n_stats
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.window_sizes" class="md-nav__link">
    <span class="md-ellipsis">
      
        window_sizes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.max_window_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        max_window_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.min_periods" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_periods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.classes" class="md-nav__link">
    <span class="md-ellipsis">
      
        classes
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.features_names" class="md-nav__link">
    <span class="md-ellipsis">
      
        features_names
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.fillna" class="md-nav__link">
    <span class="md-ellipsis">
      
        fillna
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.unique_rolling_windows" class="md-nav__link">
    <span class="md-ellipsis">
      
        unique_rolling_windows
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._repr_html_" class="md-nav__link">
    <span class="md-ellipsis">
      
        _repr_html_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._validate_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        _validate_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_pandas" class="md-nav__link">
    <span class="md-ellipsis">
      
        _apply_stat_pandas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform_batch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_numpy_jit" class="md-nav__link">
    <span class="md-ellipsis">
      
        _apply_stat_numpy_jit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.reshape_series_wide_to_long" class="md-nav__link">
    <span class="md-ellipsis">
      
        reshape_series_wide_to_long
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.reshape_series_long_to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        reshape_series_long_to_dict
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.reshape_exog_long_to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        reshape_exog_long_to_dict
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.reshape_series_exog_dict_to_long" class="md-nav__link">
    <span class="md-ellipsis">
      
        reshape_series_exog_dict_to_long
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator" class="md-nav__link">
    <span class="md-ellipsis">
      
        TimeSeriesDifferentiator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TimeSeriesDifferentiator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.order" class="md-nav__link">
    <span class="md-ellipsis">
      
        order
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.window_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        window_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.initial_values" class="md-nav__link">
    <span class="md-ellipsis">
      
        initial_values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.pre_train_values" class="md-nav__link">
    <span class="md-ellipsis">
      
        pre_train_values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.last_values" class="md-nav__link">
    <span class="md-ellipsis">
      
        last_values
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.fit" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        inverse_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_training" class="md-nav__link">
    <span class="md-ellipsis">
      
        inverse_transform_training
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_next_window" class="md-nav__link">
    <span class="md-ellipsis">
      
        inverse_transform_next_window
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.set_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_params
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner" class="md-nav__link">
    <span class="md-ellipsis">
      
        QuantileBinner
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QuantileBinner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins" class="md-nav__link">
    <span class="md-ellipsis">
      
        n_bins
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.method" class="md-nav__link">
    <span class="md-ellipsis">
      
        method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.subsample" class="md-nav__link">
    <span class="md-ellipsis">
      
        subsample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.dtype" class="md-nav__link">
    <span class="md-ellipsis">
      
        dtype
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.random_state" class="md-nav__link">
    <span class="md-ellipsis">
      
        random_state
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins_" class="md-nav__link">
    <span class="md-ellipsis">
      
        n_bins_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.bin_edges_" class="md-nav__link">
    <span class="md-ellipsis">
      
        bin_edges_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.intervals_" class="md-nav__link">
    <span class="md-ellipsis">
      
        intervals_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner._validate_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        _validate_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.get_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.QuantileBinner.set_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_params
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator" class="md-nav__link">
    <span class="md-ellipsis">
      
        ConformalIntervalCalibrator
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ConformalIntervalCalibrator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.nominal_coverage" class="md-nav__link">
    <span class="md-ellipsis">
      
        nominal_coverage
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.symmetric_calibration" class="md-nav__link">
    <span class="md-ellipsis">
      
        symmetric_calibration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_" class="md-nav__link">
    <span class="md-ellipsis">
      
        correction_factor_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_lower_" class="md-nav__link">
    <span class="md-ellipsis">
      
        correction_factor_lower_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_upper_" class="md-nav__link">
    <span class="md-ellipsis">
      
        correction_factor_upper_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_coverage_" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit_coverage_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_input_type_" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit_input_type_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_series_names_" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit_series_names_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.is_fitted" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_fitted
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator._repr_html_" class="md-nav__link">
    <span class="md-ellipsis">
      
        _repr_html_
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="drift_detection.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    drift_detection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="metrics.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="plot.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    plot
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="utils.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="experimental.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    experimental
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="datasets.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    datasets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="exceptions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    exceptions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    FAQ and Tips
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    FAQ and Tips
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/table-of-contents.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Table of contents
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/non-negative-predictions.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Avoid negative predictions when forecasting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/forecasting-time-series-with-missing-values.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting time series with missing values
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/forecasting-with-delayed-historical-data.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forecasting with delayed historical data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/parameters-search-backtesting-vs-one-step-ahead.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backtesting vs One-step-ahead
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/cyclical-features-time-series.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cyclical features in time series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/time-series-aggregation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time series aggregation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/probabilistic-forecasting-crps-score.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Continuous Ranked Probability Score (CRPS)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/probabilistic-forecasting-calibrate-intervals.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Calibration of probabilistic forecasting intervals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/skforecast-benchmark.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/benchmark-statistical-models.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarking statistical models
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/parallelization-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parallelization in skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../faq/profiling-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiling skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../releases/releases.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Releases
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    More
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    More
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../more/about-skforecast.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    About skforecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../more/consulting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Consulting & Professional services
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../more/funding.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Funding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="preprocessing"><code>preprocessing</code><a class="headerlink" href="#preprocessing" title="Permanent link">&para;</a></h1>


<div class="doc doc-object doc-class">



<h2 id="skforecast.preprocessing.preprocessing.RollingFeatures" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">skforecast.preprocessing.preprocessing.RollingFeatures</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">RollingFeatures</span><span class="p">(</span>
    <span class="n">stats</span><span class="p">,</span>
    <span class="n">window_sizes</span><span class="p">,</span>
    <span class="n">min_periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fillna</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">kwargs_stats</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;ewm&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;alpha&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">}},</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>This class computes rolling features. To avoid data leakage, the last point 
in the window is excluded from calculations, ('closed': 'left' and 
'center': False).</p>
<p>Currently, the following statistics are supported: 'mean', 'std', 'min', 'max',
'sum', 'median', 'ratio_min_max', 'coef_variation', 'ewm'. For 'ewm', the
alpha parameter can be set in the kwargs_stats dictionary, default is
{'ewm': {'alpha': 0.3}}.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stats</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window. Can be a <code>string</code> or a <code>list</code>,
and can have repeats. Available statistics are: 'mean', 'std', 'min', 'max',
'sum', 'median', 'ratio_min_max', 'coef_variation', 'ewm'. For 'ewm', the
alpha parameter can be set in the kwargs_stats dictionary, default is
{'ewm': {'alpha': 0.3}}.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window_sizes</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic. If an <code>int</code>, all stats share 
the same window size. If a <code>list</code>, it should have the same length as <code>stats</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_periods</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value. 
Same as the <code>min_periods</code> argument of pandas rolling. If <code>None</code>, 
defaults to <code>window_sizes</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>features_names</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features. If <code>None</code>, default names will be used in the 
format 'roll_stat_window_size', for example 'roll_mean_7'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fillna</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fill missing values in <code>transform_batch</code> method. Available 
methods are: 'mean', 'median', 'ffill', 'bfill', or a float value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs_stats</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with additional arguments for the statistics. The keys are the
statistic names and the values are dictionaries with the arguments for the
corresponding statistic. For example, {'ewm': {'alpha': 0.3}}.</p>
              </div>
            </td>
            <td>
                  <code>{&#39;ewm&#39;: {&#39;alpha&#39;: 0.3}}</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="stats


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.stats)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.stats">stats</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="n_stats


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.n_stats)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.n_stats">n_stats</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of statistics to compute.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="window_sizes


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.window_sizes)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.window_sizes">window_sizes</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="max_window_size


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.max_window_size)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.max_window_size">max_window_size</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum window size.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="min_periods


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.min_periods)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.min_periods">min_periods</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="features_names


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.features_names)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.features_names">features_names</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="fillna


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.fillna)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.fillna">fillna</a></code></td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Method to fill missing values in <code>transform_batch</code> method.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="unique_rolling_windows


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.unique_rolling_windows)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.unique_rolling_windows">unique_rolling_windows</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing unique rolling window parameters and the corresponding
statistics.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="kwargs_stats


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeatures.kwargs_stats)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.kwargs_stats">kwargs_stats</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with additional arguments for the statistics.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform_batch (skforecast.preprocessing.preprocessing.RollingFeatures.transform_batch)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform_batch">transform_batch</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Transform an entire pandas Series using rolling windows and compute the </p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform (skforecast.preprocessing.preprocessing.RollingFeatures.transform)" href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform">transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Transform a numpy array using rolling windows and compute the </p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">stats</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">window_sizes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">min_periods</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">fillna</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">kwargs_stats</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ewm&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">}}</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_params</span><span class="p">(</span>
        <span class="n">stats</span>          <span class="o">=</span> <span class="n">stats</span><span class="p">,</span>
        <span class="n">window_sizes</span>   <span class="o">=</span> <span class="n">window_sizes</span><span class="p">,</span>
        <span class="n">min_periods</span>    <span class="o">=</span> <span class="n">min_periods</span><span class="p">,</span>
        <span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span><span class="p">,</span>
        <span class="n">fillna</span>         <span class="o">=</span> <span class="n">fillna</span><span class="p">,</span>
        <span class="n">kwargs_stats</span>   <span class="o">=</span> <span class="n">kwargs_stats</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">window_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="n">window_sizes</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span> <span class="o">=</span> <span class="n">window_sizes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">min_periods</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="p">[</span><span class="n">min_periods</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span> <span class="o">=</span> <span class="n">min_periods</span>

    <span class="k">if</span> <span class="n">features_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">features_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">stat</span><span class="p">,</span> <span class="n">window_size</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">stat</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">kwargs_stats</span><span class="p">:</span>
                <span class="n">features_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;roll_</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">kwargs_suffix</span> <span class="o">=</span> <span class="s2">&quot;_&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">kwargs_stats</span><span class="p">[</span><span class="n">stat</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">()])</span>
                <span class="n">features_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;roll_</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">kwargs_suffix</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">=</span> <span class="n">fillna</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">kwargs_stats</span> <span class="o">=</span> <span class="n">kwargs_stats</span> <span class="k">if</span> <span class="n">kwargs_stats</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>

    <span class="n">window_params_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">)):</span>
        <span class="n">window_params</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">window_params_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">window_params</span><span class="p">)</span>

    <span class="c1"># Find unique window parameter combinations</span>
    <span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">params</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">window_params_list</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_rolling_windows</span><span class="p">:</span>
            <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;window&#39;</span><span class="p">:</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
                    <span class="s1">&#39;min_periods&#39;</span><span class="p">:</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                    <span class="s1">&#39;center&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span>
                <span class="p">},</span>
                <span class="s1">&#39;stats_idx&#39;</span><span class="p">:</span> <span class="p">[],</span> 
                <span class="s1">&#39;stats_names&#39;</span><span class="p">:</span> <span class="p">[],</span> 
                <span class="s1">&#39;rolling_obj&#39;</span><span class="p">:</span> <span class="kc">None</span>
            <span class="p">}</span>
        <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;stats_idx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;stats_names&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_names</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="n">unique_rolling_windows</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.stats" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.n_stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">n_stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.n_stats" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.window_sizes" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">window_sizes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.window_sizes" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">window_sizes</span> <span class="o">=</span> <span class="n">window_sizes</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.max_window_size" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">max_window_size</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.max_window_size" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">max_window_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.min_periods" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">min_periods</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.min_periods" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">min_periods</span> <span class="o">=</span> <span class="n">min_periods</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.features_names" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">features_names</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.features_names" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.fillna" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">fillna</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.fillna" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">fillna</span> <span class="o">=</span> <span class="n">fillna</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.kwargs_stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">kwargs_stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.kwargs_stats" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">kwargs_stats</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">kwargs_stats</span> <span class="k">if</span> <span class="n">kwargs_stats</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.unique_rolling_windows" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">unique_rolling_windows</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.unique_rolling_windows" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="n">unique_rolling_windows</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures._repr_html_" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_repr_html_</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures._repr_html_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_repr_html_</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>HTML representation of the object.
The "General Information" section is expanded by default.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HTML representation of the object.</span>
<span class="sd">    The &quot;General Information&quot; section is expanded by default.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">style</span><span class="p">,</span> <span class="n">unique_id</span> <span class="o">=</span> <span class="n">get_style_repr_html</span><span class="p">()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    &lt;div class=&quot;container-</span><span class="si">{</span><span class="n">unique_id</span><span class="si">}</span><span class="s2">&quot;&gt;</span>
<span class="s2">        &lt;p style=&quot;font-size: 1.5em; font-weight: bold; margin-block-start: 0.83em; margin-block-end: 0.83em;&quot;&gt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span>
<span class="s2">        &lt;details open&gt;</span>
<span class="s2">            &lt;summary&gt;General Information&lt;/summary&gt;</span>
<span class="s2">            &lt;ul&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Stats:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Window size:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Maximum window size:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Minimum periods:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Features names:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">features_names</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Fill na strategy:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fillna</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Kwargs stats:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs_stats</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">            &lt;/ul&gt;</span>
<span class="s2">        &lt;/details&gt;</span>
<span class="s2">        &lt;p&gt;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/api/preprocessing.html#skforecast.preprocessing.preprocessing.RollingFeatures&quot;&gt;&amp;#128712 &lt;strong&gt;API Reference&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">            &amp;nbsp;&amp;nbsp;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/user_guides/window-features-and-custom-features.html&quot;&gt;&amp;#128462 &lt;strong&gt;User Guide&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">        &lt;/p&gt;</span>
<span class="s2">    &lt;/div&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">style</span> <span class="o">+</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures._validate_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_validate_params</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures._validate_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="n">stats</span><span class="p">,</span>
    <span class="n">window_sizes</span><span class="p">,</span>
    <span class="n">min_periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fillna</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">kwargs_stats</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Validate the parameters of the RollingFeatures class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stats</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window. Can be a <code>string</code> or a <code>list</code>,
and can have repeats. Available statistics are: 'mean', 'std', 'min', 'max',
'sum', 'median', 'ratio_min_max', 'coef_variation', 'ewm'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window_sizes</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic. If an <code>int</code>, all stats share 
the same window size. If a <code>list</code>, it should have the same length as stats.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_periods</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value. 
Same as the <code>min_periods</code> argument of pandas rolling. If <code>None</code>, 
defaults to <code>window_sizes</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>features_names</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features. If <code>None</code>, default names will be used in the 
format 'roll_stat_window_size', for example 'roll_mean_7'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fillna</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fill missing values in <code>transform_batch</code> method. Available 
methods are: 'mean', 'median', 'ffill', 'bfill', or a float value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs_stats</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with additional arguments for the statistics. The keys are the
statistic names and the values are dictionaries with the arguments for the
corresponding statistic. For example, {'ewm': {'alpha': 0.3}}.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1298</span>
<span class="normal">1299</span>
<span class="normal">1300</span>
<span class="normal">1301</span>
<span class="normal">1302</span>
<span class="normal">1303</span>
<span class="normal">1304</span>
<span class="normal">1305</span>
<span class="normal">1306</span>
<span class="normal">1307</span>
<span class="normal">1308</span>
<span class="normal">1309</span>
<span class="normal">1310</span>
<span class="normal">1311</span>
<span class="normal">1312</span>
<span class="normal">1313</span>
<span class="normal">1314</span>
<span class="normal">1315</span>
<span class="normal">1316</span>
<span class="normal">1317</span>
<span class="normal">1318</span>
<span class="normal">1319</span>
<span class="normal">1320</span>
<span class="normal">1321</span>
<span class="normal">1322</span>
<span class="normal">1323</span>
<span class="normal">1324</span>
<span class="normal">1325</span>
<span class="normal">1326</span>
<span class="normal">1327</span>
<span class="normal">1328</span>
<span class="normal">1329</span>
<span class="normal">1330</span>
<span class="normal">1331</span>
<span class="normal">1332</span>
<span class="normal">1333</span>
<span class="normal">1334</span>
<span class="normal">1335</span>
<span class="normal">1336</span>
<span class="normal">1337</span>
<span class="normal">1338</span>
<span class="normal">1339</span>
<span class="normal">1340</span>
<span class="normal">1341</span>
<span class="normal">1342</span>
<span class="normal">1343</span>
<span class="normal">1344</span>
<span class="normal">1345</span>
<span class="normal">1346</span>
<span class="normal">1347</span>
<span class="normal">1348</span>
<span class="normal">1349</span>
<span class="normal">1350</span>
<span class="normal">1351</span>
<span class="normal">1352</span>
<span class="normal">1353</span>
<span class="normal">1354</span>
<span class="normal">1355</span>
<span class="normal">1356</span>
<span class="normal">1357</span>
<span class="normal">1358</span>
<span class="normal">1359</span>
<span class="normal">1360</span>
<span class="normal">1361</span>
<span class="normal">1362</span>
<span class="normal">1363</span>
<span class="normal">1364</span>
<span class="normal">1365</span>
<span class="normal">1366</span>
<span class="normal">1367</span>
<span class="normal">1368</span>
<span class="normal">1369</span>
<span class="normal">1370</span>
<span class="normal">1371</span>
<span class="normal">1372</span>
<span class="normal">1373</span>
<span class="normal">1374</span>
<span class="normal">1375</span>
<span class="normal">1376</span>
<span class="normal">1377</span>
<span class="normal">1378</span>
<span class="normal">1379</span>
<span class="normal">1380</span>
<span class="normal">1381</span>
<span class="normal">1382</span>
<span class="normal">1383</span>
<span class="normal">1384</span>
<span class="normal">1385</span>
<span class="normal">1386</span>
<span class="normal">1387</span>
<span class="normal">1388</span>
<span class="normal">1389</span>
<span class="normal">1390</span>
<span class="normal">1391</span>
<span class="normal">1392</span>
<span class="normal">1393</span>
<span class="normal">1394</span>
<span class="normal">1395</span>
<span class="normal">1396</span>
<span class="normal">1397</span>
<span class="normal">1398</span>
<span class="normal">1399</span>
<span class="normal">1400</span>
<span class="normal">1401</span>
<span class="normal">1402</span>
<span class="normal">1403</span>
<span class="normal">1404</span>
<span class="normal">1405</span>
<span class="normal">1406</span>
<span class="normal">1407</span>
<span class="normal">1408</span>
<span class="normal">1409</span>
<span class="normal">1410</span>
<span class="normal">1411</span>
<span class="normal">1412</span>
<span class="normal">1413</span>
<span class="normal">1414</span>
<span class="normal">1415</span>
<span class="normal">1416</span>
<span class="normal">1417</span>
<span class="normal">1418</span>
<span class="normal">1419</span>
<span class="normal">1420</span>
<span class="normal">1421</span>
<span class="normal">1422</span>
<span class="normal">1423</span>
<span class="normal">1424</span>
<span class="normal">1425</span>
<span class="normal">1426</span>
<span class="normal">1427</span>
<span class="normal">1428</span>
<span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">stats</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> 
    <span class="n">window_sizes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">min_periods</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">fillna</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">kwargs_stats</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">object</span><span class="p">]]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate the parameters of the RollingFeatures class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    stats : str, list</span>
<span class="sd">        Statistics to compute over the rolling window. Can be a `string` or a `list`,</span>
<span class="sd">        and can have repeats. Available statistics are: &#39;mean&#39;, &#39;std&#39;, &#39;min&#39;, &#39;max&#39;,</span>
<span class="sd">        &#39;sum&#39;, &#39;median&#39;, &#39;ratio_min_max&#39;, &#39;coef_variation&#39;, &#39;ewm&#39;.</span>
<span class="sd">    window_sizes : int, list</span>
<span class="sd">        Size of the rolling window for each statistic. If an `int`, all stats share </span>
<span class="sd">        the same window size. If a `list`, it should have the same length as stats.</span>
<span class="sd">    min_periods : int, list, default None</span>
<span class="sd">        Minimum number of observations in window required to have a value. </span>
<span class="sd">        Same as the `min_periods` argument of pandas rolling. If `None`, </span>
<span class="sd">        defaults to `window_sizes`.</span>
<span class="sd">    features_names : list, default None</span>
<span class="sd">        Names of the output features. If `None`, default names will be used in the </span>
<span class="sd">        format &#39;roll_stat_window_size&#39;, for example &#39;roll_mean_7&#39;.</span>
<span class="sd">    fillna : str, float, default None</span>
<span class="sd">        Fill missing values in `transform_batch` method. Available </span>
<span class="sd">        methods are: &#39;mean&#39;, &#39;median&#39;, &#39;ffill&#39;, &#39;bfill&#39;, or a float value.</span>
<span class="sd">    kwargs_stats : dict, default None</span>
<span class="sd">        Dictionary with additional arguments for the statistics. The keys are the</span>
<span class="sd">        statistic names and the values are dictionaries with the arguments for the</span>
<span class="sd">        corresponding statistic. For example, {&#39;ewm&#39;: {&#39;alpha&#39;: 0.3}}.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># stats</span>
    <span class="n">allowed_stats</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;std&#39;</span><span class="p">,</span> <span class="s1">&#39;min&#39;</span><span class="p">,</span> <span class="s1">&#39;max&#39;</span><span class="p">,</span> <span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;ratio_min_max&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;coef_variation&#39;</span><span class="p">,</span> <span class="s1">&#39;ewm&#39;</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`stats` must be a string or a list of strings. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>        
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">stats</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stat</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not allowed. Allowed stats are: </span><span class="si">{</span><span class="n">allowed_stats</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
    <span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

    <span class="c1"># window_sizes</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`window_sizes` must be an int or a list of ints. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">n_window_sizes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_window_sizes</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Length of `window_sizes` list (</span><span class="si">{</span><span class="n">n_window_sizes</span><span class="si">}</span><span class="s2">) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Check duplicates (stats, window_sizes)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">window_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="n">window_sizes</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_stats</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">window_sizes</span><span class="p">)))</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Duplicate (stat, window_size) pairs are not allowed.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;    `stats`        : </span><span class="si">{</span><span class="n">stats</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;    `window_sizes` : </span><span class="si">{</span><span class="n">window_sizes</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># min_periods</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`min_periods` must be an int, list of ints, or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">min_periods</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">min_periods</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">min_periods</span> <span class="o">=</span> <span class="p">[</span><span class="n">min_periods</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_stats</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">n_min_periods</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">min_periods</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n_min_periods</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Length of `min_periods` list (</span><span class="si">{</span><span class="n">n_min_periods</span><span class="si">}</span><span class="s2">) &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">min_period</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">min_periods</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">min_period</span> <span class="o">&gt;</span> <span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Each `min_period` must be less than or equal to its &quot;</span>
                    <span class="s2">&quot;corresponding `window_size`.&quot;</span>
                <span class="p">)</span>

    <span class="c1"># features_names</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features_names</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`features_names` must be a list of strings or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">features_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">n_features_names</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">features_names</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_features_names</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Length of `features_names` list (</span><span class="si">{</span><span class="n">n_features_names</span><span class="si">}</span><span class="s2">) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>

    <span class="c1"># fillna</span>
    <span class="k">if</span> <span class="n">fillna</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillna</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`fillna` must be a float, string, or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">fillna</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillna</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">allowed_fill_strategy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;ffill&#39;</span><span class="p">,</span> <span class="s1">&#39;bfill&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">fillna</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_fill_strategy</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">fillna</span><span class="si">}</span><span class="s2">&#39; is not allowed. Allowed `fillna` &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;values are: </span><span class="si">{</span><span class="n">allowed_fill_strategy</span><span class="si">}</span><span class="s2"> or a float value.&quot;</span>
                <span class="p">)</span>

    <span class="c1"># kwargs_stats</span>
    <span class="n">allowed_kwargs_stats</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;ewm&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">kwargs_stats</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs_stats</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`kwargs_stats` must be a dictionary or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">kwargs_stats</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="n">kwargs_stats</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">stat</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs_stats</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Invalid statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; found in `kwargs_stats`. &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Allowed statistics with additional arguments are: &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">allowed_kwargs_stats</span><span class="si">}</span><span class="s2">. Please ensure all keys in &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;`kwargs_stats` are among the allowed statistics.&quot;</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_pandas" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_apply_stat_pandas</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_pandas" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_apply_stat_pandas</span><span class="p">(</span><span class="n">rolling_obj</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply the specified statistic to a pandas rolling object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rolling_obj</code>
            </td>
            <td>
                  <code>pandas Rolling</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Rolling object to apply the statistic.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stat</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistic to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>stat_series</code></td>            <td>
                  <code>pandas Series</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Series with the computed statistic.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span>
<span class="normal">1484</span>
<span class="normal">1485</span>
<span class="normal">1486</span>
<span class="normal">1487</span>
<span class="normal">1488</span>
<span class="normal">1489</span>
<span class="normal">1490</span>
<span class="normal">1491</span>
<span class="normal">1492</span>
<span class="normal">1493</span>
<span class="normal">1494</span>
<span class="normal">1495</span>
<span class="normal">1496</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_apply_stat_pandas</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">rolling_obj</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">rolling</span><span class="o">.</span><span class="n">Rolling</span><span class="p">,</span> 
    <span class="n">stat</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Apply the specified statistic to a pandas rolling object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rolling_obj : pandas Rolling</span>
<span class="sd">        Rolling object to apply the statistic.</span>
<span class="sd">    stat : str</span>
<span class="sd">        Statistic to compute.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    stat_series : pandas Series</span>
<span class="sd">        Series with the computed statistic.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;sum&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;ratio_min_max&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">/</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;coef_variation&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">std</span><span class="p">()</span> <span class="o">/</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;ewm&#39;</span><span class="p">:</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs_stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">stat</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_ewm_jit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">),</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not implemented.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.transform_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform_batch</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform_batch</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Transform an entire pandas Series using rolling windows and compute the 
specified statistics.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>pandas Series</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data series to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rolling_features</code></td>            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the rolling features.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1498</span>
<span class="normal">1499</span>
<span class="normal">1500</span>
<span class="normal">1501</span>
<span class="normal">1502</span>
<span class="normal">1503</span>
<span class="normal">1504</span>
<span class="normal">1505</span>
<span class="normal">1506</span>
<span class="normal">1507</span>
<span class="normal">1508</span>
<span class="normal">1509</span>
<span class="normal">1510</span>
<span class="normal">1511</span>
<span class="normal">1512</span>
<span class="normal">1513</span>
<span class="normal">1514</span>
<span class="normal">1515</span>
<span class="normal">1516</span>
<span class="normal">1517</span>
<span class="normal">1518</span>
<span class="normal">1519</span>
<span class="normal">1520</span>
<span class="normal">1521</span>
<span class="normal">1522</span>
<span class="normal">1523</span>
<span class="normal">1524</span>
<span class="normal">1525</span>
<span class="normal">1526</span>
<span class="normal">1527</span>
<span class="normal">1528</span>
<span class="normal">1529</span>
<span class="normal">1530</span>
<span class="normal">1531</span>
<span class="normal">1532</span>
<span class="normal">1533</span>
<span class="normal">1534</span>
<span class="normal">1535</span>
<span class="normal">1536</span>
<span class="normal">1537</span>
<span class="normal">1538</span>
<span class="normal">1539</span>
<span class="normal">1540</span>
<span class="normal">1541</span>
<span class="normal">1542</span>
<span class="normal">1543</span>
<span class="normal">1544</span>
<span class="normal">1545</span>
<span class="normal">1546</span>
<span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform_batch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform an entire pandas Series using rolling windows and compute the </span>
<span class="sd">    specified statistics.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : pandas Series</span>
<span class="sd">        The input data series to transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rolling_features : pandas DataFrame</span>
<span class="sd">        A DataFrame containing the rolling features.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">rolling_obj</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;rolling_obj&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rolling_obj</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">):</span>
        <span class="n">window_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">min_periods</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">rolling_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;rolling_obj&#39;</span><span class="p">]</span>

        <span class="n">stat_series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_stat_pandas</span><span class="p">(</span><span class="n">rolling_obj</span><span class="o">=</span><span class="n">rolling_obj</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="n">stat</span><span class="p">)</span>            
        <span class="n">rolling_features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stat_series</span><span class="p">)</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">rolling_features</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">rolling_features</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span>
    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span><span class="p">:]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">rolling_features</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">rolling_features</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;ffill&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;bfill&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fillna</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">rolling_features</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_numpy_jit" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_apply_stat_numpy_jit</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures._apply_stat_numpy_jit" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_apply_stat_numpy_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply the specified statistic to a numpy array using Numba JIT.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X_window</code>
            </td>
            <td>
                  <code>numpy array</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array with the rolling window.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stat</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistic to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>stat_value</code></td>            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value of the computed statistic.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span>
<span class="normal">1581</span>
<span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_apply_stat_numpy_jit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X_window</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">stat</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Apply the specified statistic to a numpy array using Numba JIT.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X_window : numpy array</span>
<span class="sd">        Array with the rolling window.</span>
<span class="sd">    stat : str</span>
<span class="sd">        Statistic to compute.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    stat_value : float</span>
<span class="sd">        Value of the computed statistic.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_mean_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;std&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_std_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;min&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_min_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;max&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_max_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;sum&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_sum_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_median_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;ratio_min_max&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_min_max_ratio_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;coef_variation&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_np_cv_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;ewm&#39;</span><span class="p">:</span>
        <span class="n">kwargs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs_stats</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">stat</span><span class="p">,</span> <span class="p">{})</span>
        <span class="k">return</span> <span class="n">_ewm_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not implemented.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeatures.transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeatures.transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Transform a numpy array using rolling windows and compute the 
specified statistics. The returned array will have the shape 
(X.shape[1] if exists, n_stats). For example, if X is a flat
array, the output will have shape (n_stats,). If X is a 2D array,
the output will have shape (X.shape[1], n_stats).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data array to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rolling_features</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An array containing the computed statistics.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span>
<span class="normal">1599</span>
<span class="normal">1600</span>
<span class="normal">1601</span>
<span class="normal">1602</span>
<span class="normal">1603</span>
<span class="normal">1604</span>
<span class="normal">1605</span>
<span class="normal">1606</span>
<span class="normal">1607</span>
<span class="normal">1608</span>
<span class="normal">1609</span>
<span class="normal">1610</span>
<span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span>
<span class="normal">1620</span>
<span class="normal">1621</span>
<span class="normal">1622</span>
<span class="normal">1623</span>
<span class="normal">1624</span>
<span class="normal">1625</span>
<span class="normal">1626</span>
<span class="normal">1627</span>
<span class="normal">1628</span>
<span class="normal">1629</span>
<span class="normal">1630</span>
<span class="normal">1631</span>
<span class="normal">1632</span>
<span class="normal">1633</span>
<span class="normal">1634</span>
<span class="normal">1635</span>
<span class="normal">1636</span>
<span class="normal">1637</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform a numpy array using rolling windows and compute the </span>
<span class="sd">    specified statistics. The returned array will have the shape </span>
<span class="sd">    (X.shape[1] if exists, n_stats). For example, if X is a flat</span>
<span class="sd">    array, the output will have shape (n_stats,). If X is a 2D array,</span>
<span class="sd">    the output will have shape (X.shape[1], n_stats).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        The input data array to transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rolling_features : numpy ndarray</span>
<span class="sd">        An array containing the computed statistics.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">array_ndim</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">ndim</span>
    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
        <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span><span class="p">),</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">):</span>
            <span class="n">X_window</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">j</span><span class="p">]:,</span> <span class="n">i</span><span class="p">]</span>
            <span class="n">X_window</span> <span class="o">=</span> <span class="n">X_window</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X_window</span><span class="p">)]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> 
                <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_stat_numpy_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">rolling_features</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">skforecast.preprocessing.preprocessing.RollingFeaturesClassification</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">RollingFeaturesClassification</span><span class="p">(</span>
    <span class="n">stats</span><span class="p">,</span>
    <span class="n">window_sizes</span><span class="p">,</span>
    <span class="n">min_periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fillna</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>This class computes rolling features for classification problems. To avoid data 
leakage, the last point in the window is excluded from calculations, 
('closed': 'left' and 'center': False).</p>
<p>Currently, the following statistics are supported: 'proportion', 'mode', 
'entropy', 'n_changes', 'n_unique'.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stats</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window. Can be a <code>string</code> or a <code>list</code>,
and can have repeats. Available statistics are: 'proportion', 'mode', 
'entropy', 'n_changes', 'n_unique'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window_sizes</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic. If an <code>int</code>, all stats share 
the same window size. If a <code>list</code>, it should have the same length as <code>stats</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_periods</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value. 
Same as the <code>min_periods</code> argument of pandas rolling. If <code>None</code>, 
defaults to <code>window_sizes</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>features_names</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features. If <code>None</code>, default names will be used in the 
format 'roll_stat_window_size', for example 'roll_mode_7'. For 'proportion',
class-specific names are appended, e.g., 'roll_proportion_7_class_0'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fillna</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fill missing values in <code>transform_batch</code> method. Available 
methods are: 'mean', 'median', 'ffill', 'bfill', or a float value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="stats


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.stats)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.stats">stats</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="n_stats


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.n_stats)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.n_stats">n_stats</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of statistics to compute.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="window_sizes


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.window_sizes)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.window_sizes">window_sizes</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="max_window_size


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.max_window_size)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.max_window_size">max_window_size</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum window size.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="min_periods


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.min_periods)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.min_periods">min_periods</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="classes


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.classes)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.classes">classes</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unique classes found in the data. Inferred during <code>transform_batch</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="features_names


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.features_names)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.features_names">features_names</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="fillna


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.fillna)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.fillna">fillna</a></code></td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Method to fill missing values in <code>transform_batch</code> method.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="unique_rolling_windows


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.unique_rolling_windows)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.unique_rolling_windows">unique_rolling_windows</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary containing unique rolling window parameters and the corresponding
statistics.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform_batch (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform_batch)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform_batch">transform_batch</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Transform an entire pandas Series using rolling windows and compute the </p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform (skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform)" href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform">transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Transform a numpy array using rolling windows and compute the </p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span>
<span class="normal">1699</span>
<span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span>
<span class="normal">1734</span>
<span class="normal">1735</span>
<span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">stats</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">window_sizes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">min_periods</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">fillna</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_params</span><span class="p">(</span>
        <span class="n">stats</span>          <span class="o">=</span> <span class="n">stats</span><span class="p">,</span>
        <span class="n">window_sizes</span>   <span class="o">=</span> <span class="n">window_sizes</span><span class="p">,</span>
        <span class="n">min_periods</span>    <span class="o">=</span> <span class="n">min_periods</span><span class="p">,</span>
        <span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span><span class="p">,</span>
        <span class="n">fillna</span>         <span class="o">=</span> <span class="n">fillna</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">window_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="n">window_sizes</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span> <span class="o">=</span> <span class="n">window_sizes</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">min_periods</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="p">[</span><span class="n">min_periods</span><span class="p">]</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_stats</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span> <span class="o">=</span> <span class="n">min_periods</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">classes</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">features_names</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">features_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">stat</span><span class="p">,</span> <span class="n">window_size</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">):</span>
            <span class="n">features_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;roll_</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">=</span> <span class="n">fillna</span>

    <span class="n">window_params_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">)):</span>
        <span class="n">window_params</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">window_params_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">window_params</span><span class="p">)</span>

    <span class="c1"># Find unique window parameter combinations</span>
    <span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">params</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">window_params_list</span><span class="p">):</span>
        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_rolling_windows</span><span class="p">:</span>
            <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s1">&#39;params&#39;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s1">&#39;window&#39;</span><span class="p">:</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
                    <span class="s1">&#39;min_periods&#39;</span><span class="p">:</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                    <span class="s1">&#39;center&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                    <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span>
                <span class="p">},</span>
                <span class="s1">&#39;stats_idx&#39;</span><span class="p">:</span> <span class="p">[],</span> 
                <span class="s1">&#39;stats_names&#39;</span><span class="p">:</span> <span class="p">[],</span> 
                <span class="s1">&#39;rolling_obj&#39;</span><span class="p">:</span> <span class="kc">None</span>
            <span class="p">}</span>
        <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;stats_idx&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;stats_names&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_names</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="n">unique_rolling_windows</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.stats" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">stats</span> <span class="o">=</span> <span class="n">stats</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.n_stats" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">n_stats</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.n_stats" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.window_sizes" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">window_sizes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.window_sizes" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">window_sizes</span> <span class="o">=</span> <span class="n">window_sizes</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.max_window_size" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">max_window_size</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.max_window_size" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">max_window_size</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.min_periods" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">min_periods</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.min_periods" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">min_periods</span> <span class="o">=</span> <span class="n">min_periods</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.classes" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">classes</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.classes" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">classes</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.features_names" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">features_names</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.features_names" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.fillna" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">fillna</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.fillna" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">fillna</span> <span class="o">=</span> <span class="n">fillna</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.unique_rolling_windows" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">unique_rolling_windows</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.unique_rolling_windows" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">unique_rolling_windows</span> <span class="o">=</span> <span class="n">unique_rolling_windows</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification._repr_html_" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_repr_html_</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._repr_html_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_repr_html_</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>HTML representation of the object.
The "General Information" section is expanded by default.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HTML representation of the object.</span>
<span class="sd">    The &quot;General Information&quot; section is expanded by default.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">style</span><span class="p">,</span> <span class="n">unique_id</span> <span class="o">=</span> <span class="n">get_style_repr_html</span><span class="p">()</span>
    <span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    &lt;div class=&quot;container-</span><span class="si">{</span><span class="n">unique_id</span><span class="si">}</span><span class="s2">&quot;&gt;</span>
<span class="s2">        &lt;p style=&quot;font-size: 1.5em; font-weight: bold; margin-block-start: 0.83em; margin-block-end: 0.83em;&quot;&gt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span>
<span class="s2">        &lt;details open&gt;</span>
<span class="s2">            &lt;summary&gt;General Information&lt;/summary&gt;</span>
<span class="s2">            &lt;ul&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Stats:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Window size:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Maximum window size:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Minimum periods:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Classes:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">classes</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Features names:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">features_names</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Fill na strategy:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fillna</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">            &lt;/ul&gt;</span>
<span class="s2">        &lt;/details&gt;</span>
<span class="s2">        &lt;p&gt;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/api/preprocessing.html#skforecast.preprocessing.preprocessing.RollingFeaturesClassification&quot;&gt;&amp;#128712 &lt;strong&gt;API Reference&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">            &amp;nbsp;&amp;nbsp;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/user_guides/autoregressive-classification-forecasting.html&quot;&gt;&amp;#128462 &lt;strong&gt;User Guide&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">        &lt;/p&gt;</span>
<span class="s2">    &lt;/div&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">style</span> <span class="o">+</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification._validate_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_validate_params</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._validate_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="n">stats</span><span class="p">,</span>
    <span class="n">window_sizes</span><span class="p">,</span>
    <span class="n">min_periods</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">fillna</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Validate the parameters of the RollingFeaturesClassification class.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>stats</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistics to compute over the rolling window. Can be a <code>string</code> or a <code>list</code>,
and can have repeats. Available statistics are: 'proportion', 'mode', 
'entropy', 'n_changes', 'n_unique'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window_sizes</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the rolling window for each statistic. If an <code>int</code>, all stats share 
the same window size. If a <code>list</code>, it should have the same length as <code>stats</code>.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>min_periods</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum number of observations in window required to have a value. 
Same as the <code>min_periods</code> argument of pandas rolling. If <code>None</code>, 
defaults to <code>window_sizes</code>.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>features_names</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the output features. If <code>None</code>, default names will be used in the 
format 'roll_stat_window_size', for example 'roll_mode_7'. For 'proportion',
class-specific names are appended, e.g., 'roll_proportion_7_class_0'.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fillna</code>
            </td>
            <td>
                  <code>(<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Fill missing values in <code>transform_batch</code> method. Available 
methods are: 'mean', 'median', 'ffill', 'bfill', or a float value.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span>
<span class="normal">1874</span>
<span class="normal">1875</span>
<span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">stats</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> 
    <span class="n">window_sizes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">min_periods</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">features_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> 
    <span class="n">fillna</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate the parameters of the RollingFeaturesClassification class.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    stats : str, list</span>
<span class="sd">        Statistics to compute over the rolling window. Can be a `string` or a `list`,</span>
<span class="sd">        and can have repeats. Available statistics are: &#39;proportion&#39;, &#39;mode&#39;, </span>
<span class="sd">        &#39;entropy&#39;, &#39;n_changes&#39;, &#39;n_unique&#39;.</span>
<span class="sd">    window_sizes : int, list</span>
<span class="sd">        Size of the rolling window for each statistic. If an `int`, all stats share </span>
<span class="sd">        the same window size. If a `list`, it should have the same length as `stats`.</span>
<span class="sd">    min_periods : int, list, default None</span>
<span class="sd">        Minimum number of observations in window required to have a value. </span>
<span class="sd">        Same as the `min_periods` argument of pandas rolling. If `None`, </span>
<span class="sd">        defaults to `window_sizes`.</span>
<span class="sd">    features_names : list, default None</span>
<span class="sd">        Names of the output features. If `None`, default names will be used in the </span>
<span class="sd">        format &#39;roll_stat_window_size&#39;, for example &#39;roll_mode_7&#39;. For &#39;proportion&#39;,</span>
<span class="sd">        class-specific names are appended, e.g., &#39;roll_proportion_7_class_0&#39;.</span>
<span class="sd">    fillna : str, float, default None</span>
<span class="sd">        Fill missing values in `transform_batch` method. Available </span>
<span class="sd">        methods are: &#39;mean&#39;, &#39;median&#39;, &#39;ffill&#39;, &#39;bfill&#39;, or a float value.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># stats</span>
    <span class="n">allowed_stats</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;proportion&#39;</span><span class="p">,</span> <span class="s1">&#39;mode&#39;</span><span class="p">,</span> <span class="s1">&#39;entropy&#39;</span><span class="p">,</span> <span class="s1">&#39;n_changes&#39;</span><span class="p">,</span> <span class="s1">&#39;n_unique&#39;</span>
    <span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`stats` must be a string or a list of strings. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>        
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">stats</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="n">stats</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">stat</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not allowed. Allowed stats are: </span><span class="si">{</span><span class="n">allowed_stats</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
    <span class="n">n_stats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stats</span><span class="p">)</span>

    <span class="c1"># window_sizes</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`window_sizes` must be an int or a list of ints. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">n_window_sizes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_window_sizes</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Length of `window_sizes` list (</span><span class="si">{</span><span class="n">n_window_sizes</span><span class="si">}</span><span class="s2">) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>

    <span class="c1"># Check duplicates (stats, window_sizes)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_sizes</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">window_sizes</span> <span class="o">=</span> <span class="p">[</span><span class="n">window_sizes</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_stats</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">stats</span><span class="p">,</span> <span class="n">window_sizes</span><span class="p">)))</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Duplicate (stat, window_size) pairs are not allowed.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;    `stats`        : </span><span class="si">{</span><span class="n">stats</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;    `window_sizes` : </span><span class="si">{</span><span class="n">window_sizes</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="c1"># min_periods</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`min_periods` must be an int, list of ints, or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">min_periods</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">min_periods</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">min_periods</span> <span class="o">=</span> <span class="p">[</span><span class="n">min_periods</span><span class="p">]</span> <span class="o">*</span> <span class="n">n_stats</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">min_periods</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="n">n_min_periods</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">min_periods</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">n_min_periods</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Length of `min_periods` list (</span><span class="si">{</span><span class="n">n_min_periods</span><span class="si">}</span><span class="s2">) &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
                <span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">min_period</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">min_periods</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">min_period</span> <span class="o">&gt;</span> <span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Each `min_period` must be less than or equal to its &quot;</span>
                    <span class="s2">&quot;corresponding `window_size`.&quot;</span>
                <span class="p">)</span>

    <span class="c1"># features_names</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features_names</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="kc">None</span><span class="p">))):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`features_names` must be a list of strings or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">features_names</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">features_names</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">n_features_names</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">features_names</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">n_features_names</span> <span class="o">!=</span> <span class="n">n_stats</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Length of `features_names` list (</span><span class="si">{</span><span class="n">n_features_names</span><span class="si">}</span><span class="s2">) &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;must match length of `stats` list (</span><span class="si">{</span><span class="n">n_stats</span><span class="si">}</span><span class="s2">).&quot;</span>
            <span class="p">)</span>

    <span class="c1"># TODO: Not used as ForecasterRecursiveClassifier doesn&#39;t allow NaNs. Check</span>
    <span class="c1"># when creating ForecasterRecursiveMultiSeriesClassifier</span>
    <span class="c1"># fillna</span>
    <span class="k">if</span> <span class="n">fillna</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillna</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">str</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;`fillna` must be a float, string, or None. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">fillna</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">fillna</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">allowed_fill_strategy</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">,</span> <span class="s1">&#39;ffill&#39;</span><span class="p">,</span> <span class="s1">&#39;bfill&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">fillna</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_fill_strategy</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">fillna</span><span class="si">}</span><span class="s2">&#39; is not allowed. Allowed `fillna` &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;values are: </span><span class="si">{</span><span class="n">allowed_fill_strategy</span><span class="si">}</span><span class="s2"> or a float value.&quot;</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_pandas" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_apply_stat_pandas</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_pandas" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_apply_stat_pandas</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">rolling_obj</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply the specified statistic to a pandas rolling object.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>rolling_obj</code>
            </td>
            <td>
                  <code>pandas Rolling</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Rolling object to apply the statistic.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stat</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistic to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>stat_series</code></td>            <td>
                  <code>pandas Series</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Series with the computed statistic.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_apply_stat_pandas</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span>
    <span class="n">rolling_obj</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">rolling</span><span class="o">.</span><span class="n">Rolling</span><span class="p">,</span> 
    <span class="n">stat</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Apply the specified statistic to a pandas rolling object.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    rolling_obj : pandas Rolling</span>
<span class="sd">        Rolling object to apply the statistic.</span>
<span class="sd">    stat : str</span>
<span class="sd">        Statistic to compute.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    stat_series : pandas Series</span>
<span class="sd">        Series with the computed statistic.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
        <span class="n">rolling_params</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;window&#39;</span><span class="p">:</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">window</span><span class="p">,</span> 
            <span class="s1">&#39;min_periods&#39;</span><span class="p">:</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">min_periods</span><span class="p">,</span> 
            <span class="s1">&#39;center&#39;</span><span class="p">:</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">center</span><span class="p">,</span>
            <span class="s1">&#39;closed&#39;</span><span class="p">:</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">closed</span>
        <span class="p">}</span>
        <span class="n">dummies</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span>
        <span class="n">proportions</span> <span class="o">=</span> <span class="n">dummies</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="o">**</span><span class="n">rolling_params</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">window</span>

        <span class="k">return</span> <span class="n">proportions</span>

    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;mode&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">scipy_mode</span><span class="p">(</span><span class="n">x</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;entropy&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">_entropy</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;n_changes&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">_n_changes_jit</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;n_unique&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">rolling_obj</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">_n_unique_jit</span><span class="p">,</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not implemented.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform_batch" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform_batch</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform_batch" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform_batch</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Transform an entire pandas Series using rolling windows and compute the 
specified statistics.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>pandas Series</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data series to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rolling_features</code></td>            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A DataFrame containing the rolling features.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span>
<span class="normal">2009</span>
<span class="normal">2010</span>
<span class="normal">2011</span>
<span class="normal">2012</span>
<span class="normal">2013</span>
<span class="normal">2014</span>
<span class="normal">2015</span>
<span class="normal">2016</span>
<span class="normal">2017</span>
<span class="normal">2018</span>
<span class="normal">2019</span>
<span class="normal">2020</span>
<span class="normal">2021</span>
<span class="normal">2022</span>
<span class="normal">2023</span>
<span class="normal">2024</span>
<span class="normal">2025</span>
<span class="normal">2026</span>
<span class="normal">2027</span>
<span class="normal">2028</span>
<span class="normal">2029</span>
<span class="normal">2030</span>
<span class="normal">2031</span>
<span class="normal">2032</span>
<span class="normal">2033</span>
<span class="normal">2034</span>
<span class="normal">2035</span>
<span class="normal">2036</span>
<span class="normal">2037</span>
<span class="normal">2038</span>
<span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform_batch</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform an entire pandas Series using rolling windows and compute the </span>
<span class="sd">    specified statistics.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : pandas Series</span>
<span class="sd">        The input data series to transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rolling_features : pandas DataFrame</span>
<span class="sd">        A DataFrame containing the rolling features.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">classes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">classes</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>

        <span class="n">features_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">stat</span><span class="p">,</span> <span class="n">feature_name</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">stat</span> <span class="o">!=</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
                <span class="n">features_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">classes</span><span class="p">:</span>
                    <span class="n">feature_name_class</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">feature_name</span><span class="si">}</span><span class="s2">_class_</span><span class="si">{</span><span class="bp">cls</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">features_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feature_name_class</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span> <span class="o">=</span> <span class="n">features_names</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">rolling_obj</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;params&#39;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;rolling_obj&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">rolling_obj</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">):</span>
        <span class="n">window_size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">min_periods</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_periods</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="n">key</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">min_periods</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">rolling_obj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unique_rolling_windows</span><span class="p">[</span><span class="n">key</span><span class="p">][</span><span class="s1">&#39;rolling_obj&#39;</span><span class="p">]</span>

        <span class="n">stat_series</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_stat_pandas</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">rolling_obj</span><span class="o">=</span><span class="n">rolling_obj</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="n">stat</span><span class="p">)</span>     
        <span class="n">rolling_features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stat_series</span><span class="p">)</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">rolling_features</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">rolling_features</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">features_names</span>
    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">max_window_size</span><span class="p">:]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">rolling_features</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">rolling_features</span><span class="o">.</span><span class="n">median</span><span class="p">())</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;ffill&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">ffill</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">fillna</span> <span class="o">==</span> <span class="s1">&#39;bfill&#39;</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">bfill</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fillna</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">rolling_features</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_numpy_jit" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_apply_stat_numpy_jit</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification._apply_stat_numpy_jit" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_apply_stat_numpy_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply the specified statistic to a numpy array using Numba JIT.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X_window</code>
            </td>
            <td>
                  <code>numpy array</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array with the rolling window.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stat</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Statistic to compute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>stat_value</code></td>            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value of the computed statistic.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_apply_stat_numpy_jit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X_window</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">stat</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Apply the specified statistic to a numpy array using Numba JIT.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X_window : numpy array</span>
<span class="sd">        Array with the rolling window.</span>
<span class="sd">    stat : str</span>
<span class="sd">        Statistic to compute.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    stat_value : float</span>
<span class="sd">        Value of the computed statistic.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
        <span class="c1"># Calculate proportions for each class</span>
        <span class="n">proportions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classes</span><span class="p">))</span>
        <span class="n">len_window</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="bp">cls</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classes</span><span class="p">):</span>
            <span class="n">proportions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">X_window</span> <span class="o">==</span> <span class="bp">cls</span><span class="p">)</span> <span class="o">/</span> <span class="n">len_window</span>
        <span class="k">return</span> <span class="n">proportions</span>

    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;mode&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">scipy_mode</span><span class="p">(</span><span class="n">X_window</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;entropy&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_entropy</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;n_changes&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_n_changes_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;n_unique&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">_n_unique_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Statistic &#39;</span><span class="si">{</span><span class="n">stat</span><span class="si">}</span><span class="s2">&#39; is not implemented.&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform</span>


<a href="#skforecast.preprocessing.preprocessing.RollingFeaturesClassification.transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Transform a numpy array using rolling windows and compute the 
specified statistics. The returned array will have the shape 
(X.shape[1] if exists, n_stats). For example, if X is a flat
array, the output will have shape (n_stats,). If X is a 2D array,
the output will have shape (X.shape[1], n_stats).</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data array to transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>rolling_features</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>An array containing the computed statistics.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span>
<span class="normal">2111</span>
<span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span>
<span class="normal">2159</span>
<span class="normal">2160</span>
<span class="normal">2161</span>
<span class="normal">2162</span>
<span class="normal">2163</span>
<span class="normal">2164</span>
<span class="normal">2165</span>
<span class="normal">2166</span>
<span class="normal">2167</span>
<span class="normal">2168</span>
<span class="normal">2169</span>
<span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transform a numpy array using rolling windows and compute the </span>
<span class="sd">    specified statistics. The returned array will have the shape </span>
<span class="sd">    (X.shape[1] if exists, n_stats). For example, if X is a flat</span>
<span class="sd">    array, the output will have shape (n_stats,). If X is a 2D array,</span>
<span class="sd">    the output will have shape (X.shape[1], n_stats).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        The input data array to transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    rolling_features : numpy ndarray</span>
<span class="sd">        An array containing the computed statistics.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">classes</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Classes must be specified before calling transform. &quot;</span>
            <span class="s2">&quot;Call `transform_batch` first to infer classes from data.&quot;</span>
        <span class="p">)</span>

    <span class="n">array_ndim</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">ndim</span>
    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>

    <span class="c1"># TODO: If more than one columns 2d Array, maybe the classes doesn&#39;t come</span>
    <span class="c1"># from the same column. Col 1 has classes [0, 1], col 2 has classes [3, 4].</span>
    <span class="n">n_classes</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">classes</span><span class="p">)</span>
    <span class="n">n_output_features</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">stat</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
            <span class="n">n_output_features</span> <span class="o">+=</span> <span class="n">n_classes</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">n_output_features</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span>
        <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">n_output_features</span><span class="p">),</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">feature_idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">stat</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stats</span><span class="p">):</span>
            <span class="n">X_window</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">window_sizes</span><span class="p">[</span><span class="n">j</span><span class="p">]:,</span> <span class="n">i</span><span class="p">]</span>
            <span class="n">X_window</span> <span class="o">=</span> <span class="n">X_window</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X_window</span><span class="p">)]</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">X_window</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_stat_numpy_jit</span><span class="p">(</span><span class="n">X_window</span><span class="p">,</span> <span class="n">stat</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
                    <span class="c1"># Result is an array with one value per class</span>
                    <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">feature_idx</span><span class="p">:</span><span class="n">feature_idx</span> <span class="o">+</span> <span class="n">n_classes</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
                    <span class="n">feature_idx</span> <span class="o">+=</span> <span class="n">n_classes</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Result is a single value</span>
                    <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">feature_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
                    <span class="n">feature_idx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">stat</span> <span class="o">==</span> <span class="s1">&#39;proportion&#39;</span><span class="p">:</span>
                    <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">feature_idx</span><span class="p">:</span><span class="n">feature_idx</span> <span class="o">+</span> <span class="n">n_classes</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
                    <span class="n">feature_idx</span> <span class="o">+=</span> <span class="n">n_classes</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">rolling_features</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">feature_idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>
                    <span class="n">feature_idx</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">rolling_features</span> <span class="o">=</span> <span class="n">rolling_features</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">rolling_features</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skforecast.preprocessing.preprocessing.reshape_series_wide_to_long" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">skforecast.preprocessing.preprocessing.reshape_series_wide_to_long</span>


<a href="#skforecast.preprocessing.preprocessing.reshape_series_wide_to_long" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">reshape_series_wide_to_long</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">return_multi_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Convert a pandas DataFrame where each column represents a different time series
into a long format DataFrame with a MultiIndex. The index of the input DataFrame
must be a pandas DatetimeIndex with a defined frequency. The function reshapes the
DataFrame from wide format to long format, where each row corresponds to a
specific time point and series ID. The resulting DataFrame will have a MultiIndex
with the series IDs as the first level and a pandas DatetimeIndex as the second
level. If <code>return_multi_index</code> is set to False, the returned DataFrame have three
columns: 'series_id', 'datetime' and 'value', with a regular index.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Wide format series. The index must be a pandas DatetimeIndex with a 
defined frequency and each column must represent a different time series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>return_multi_index</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the returned DataFrame will have a MultiIndex with the series IDs
as the first level and a pandas DatetimeIndex as the second level. If False,
the returned DataFrame will have a regular index.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>data</code></td>            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Long format series with a MultiIndex. The first level contains the series IDs,
and the second level contains a pandas DatetimeIndex with the same frequency
for each series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reshape_series_wide_to_long</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">return_multi_index</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a pandas DataFrame where each column represents a different time series</span>
<span class="sd">    into a long format DataFrame with a MultiIndex. The index of the input DataFrame</span>
<span class="sd">    must be a pandas DatetimeIndex with a defined frequency. The function reshapes the</span>
<span class="sd">    DataFrame from wide format to long format, where each row corresponds to a</span>
<span class="sd">    specific time point and series ID. The resulting DataFrame will have a MultiIndex</span>
<span class="sd">    with the series IDs as the first level and a pandas DatetimeIndex as the second</span>
<span class="sd">    level. If `return_multi_index` is set to False, the returned DataFrame have three</span>
<span class="sd">    columns: &#39;series_id&#39;, &#39;datetime&#39; and &#39;value&#39;, with a regular index.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data: pandas DataFrame</span>
<span class="sd">        Wide format series. The index must be a pandas DatetimeIndex with a </span>
<span class="sd">        defined frequency and each column must represent a different time series.</span>
<span class="sd">    return_multi_index: bool, default True</span>
<span class="sd">        If True, the returned DataFrame will have a MultiIndex with the series IDs</span>
<span class="sd">        as the first level and a pandas DatetimeIndex as the second level. If False,</span>
<span class="sd">        the returned DataFrame will have a regular index.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    data: pandas DataFrame</span>
<span class="sd">        Long format series with a MultiIndex. The first level contains the series IDs,</span>
<span class="sd">        and the second level contains a pandas DatetimeIndex with the same frequency</span>
<span class="sd">        for each series.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;`data` must be a pandas DataFrame.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DatetimeIndex</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;`data` index must be a pandas DatetimeIndex.&quot;</span><span class="p">)</span>

    <span class="n">freq</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">freq</span>
    <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;datetime&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="s2">&quot;datetime&quot;</span><span class="p">,</span> <span class="n">var_name</span><span class="o">=</span><span class="s2">&quot;series_id&quot;</span><span class="p">,</span> <span class="n">value_name</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;series_id&quot;</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
        <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;datetime&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="n">freq</span><span class="p">),</span> <span class="n">include_groups</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">return_multi_index</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skforecast.preprocessing.preprocessing.reshape_series_long_to_dict" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">skforecast.preprocessing.preprocessing.reshape_series_long_to_dict</span>


<a href="#skforecast.preprocessing.preprocessing.reshape_series_long_to_dict" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">reshape_series_long_to_dict</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">freq</span><span class="p">,</span>
    <span class="n">series_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">suppress_warnings</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Convert a long-format DataFrame into a dictionary of pandas Series with the 
specified frequency. Supports two input formats:</p>
<ul>
<li>A pandas DataFrame with explicit columns for the series identifier, time 
index, and values.</li>
<li>A pandas DataFrame with a MultiIndex, where the first level contains the 
series IDs, and the second level contains a pandas DatetimeIndex.</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Long-format series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>freq</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of the series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>series_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name with the series identifier. Not needed if the input data
is a pandas DataFrame with MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name with the time index. Not needed if the input data is a pandas
DataFrame with MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>values</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name with the values. Not needed if the input data is a pandas
DataFrame with MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>suppress_warnings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, suppress warnings when a series is incomplete after setting the
frequency.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>series_dict</code></td>            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with the series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reshape_series_long_to_dict</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">freq</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">values</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">suppress_warnings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a long-format DataFrame into a dictionary of pandas Series with the </span>
<span class="sd">    specified frequency. Supports two input formats:</span>

<span class="sd">    - A pandas DataFrame with explicit columns for the series identifier, time </span>
<span class="sd">    index, and values.</span>
<span class="sd">    - A pandas DataFrame with a MultiIndex, where the first level contains the </span>
<span class="sd">    series IDs, and the second level contains a pandas DatetimeIndex.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data: pandas DataFrame</span>
<span class="sd">        Long-format series.</span>
<span class="sd">    freq: str</span>
<span class="sd">        Frequency of the series.</span>
<span class="sd">    series_id: str, default None</span>
<span class="sd">        Column name with the series identifier. Not needed if the input data</span>
<span class="sd">        is a pandas DataFrame with MultiIndex.</span>
<span class="sd">    index: str, default None</span>
<span class="sd">        Column name with the time index. Not needed if the input data is a pandas</span>
<span class="sd">        DataFrame with MultiIndex.</span>
<span class="sd">    values: str, default None</span>
<span class="sd">        Column name with the values. Not needed if the input data is a pandas</span>
<span class="sd">        DataFrame with MultiIndex.</span>
<span class="sd">    suppress_warnings: bool, default False</span>
<span class="sd">        If True, suppress warnings when a series is incomplete after setting the</span>
<span class="sd">        frequency.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    series_dict: dict</span>
<span class="sd">        Dictionary with the series.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;`data` must be a pandas DataFrame.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="p">):</span>

        <span class="n">first_col</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span>
        <span class="n">series_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">id</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">id</span><span class="p">][</span><span class="n">first_col</span><span class="p">]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span>
            <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="n">series_id</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">values</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Arguments `series_id`, `index`, and `values` must be &quot;</span>
                    <span class="s2">&quot;specified when the input DataFrame does not have a MultiIndex. &quot;</span>
                    <span class="s2">&quot;Please provide a value for each of these arguments.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Column &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; not found in `data`.&quot;</span><span class="p">)</span>

        <span class="n">data_grouped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">series_id</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>   
        <span class="n">original_sizes</span> <span class="o">=</span> <span class="n">data_grouped</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
        <span class="n">series_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">data_grouped</span><span class="p">:</span>
            <span class="n">series_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">index</span><span class="p">)[</span><span class="n">values</span><span class="p">]</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
            <span class="n">series_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">suppress_warnings</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">series_dict</span><span class="p">[</span><span class="n">k</span><span class="p">])</span> <span class="o">!=</span> <span class="n">original_sizes</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Series &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; is incomplete. NaNs have been introduced after &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;setting the frequency.&quot;</span><span class="p">,</span>
                    <span class="n">MissingValuesWarning</span>
                <span class="p">)</span>

    <span class="k">return</span> <span class="n">series_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skforecast.preprocessing.preprocessing.reshape_exog_long_to_dict" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">skforecast.preprocessing.preprocessing.reshape_exog_long_to_dict</span>


<a href="#skforecast.preprocessing.preprocessing.reshape_exog_long_to_dict" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">reshape_exog_long_to_dict</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">freq</span><span class="p">,</span>
    <span class="n">series_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">drop_all_nan_cols</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">consolidate_dtypes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">suppress_warnings</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Convert a long-format DataFrame of exogenous variables into a dictionary 
of pandas DataFrames with the specified frequency. Supports two input formats:</p>
<ul>
<li>A pandas DataFrame with explicit columns for the series identifier, time 
index, and exogenous variables.</li>
<li>A pandas DataFrame with a MultiIndex, where the first level contains the 
series IDs, and the second level contains a pandas DatetimeIndex.</li>
</ul>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Long format exogenous variables.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>freq</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frequency of the series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>series_id</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name with the series identifier. Not needed if the input data
is a pandas DataFrame with MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name with the time index. Not needed if the input data is a pandas
DataFrame with MultiIndex.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_all_nan_cols</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, drop columns with all values as NaN. This is useful when
there are series without some exogenous variables.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>consolidate_dtypes</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Consolidate the data types of the exogenous variables if, after setting
the frequency, NaNs have been introduced and the data types have changed
to float.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>suppress_warnings</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, suppress warnings when exog is incomplete after setting the
frequency.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>exog_dict</code></td>            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with the exogenous variables.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reshape_exog_long_to_dict</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">freq</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">series_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">drop_all_nan_cols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">consolidate_dtypes</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">suppress_warnings</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a long-format DataFrame of exogenous variables into a dictionary </span>
<span class="sd">    of pandas DataFrames with the specified frequency. Supports two input formats:</span>

<span class="sd">    - A pandas DataFrame with explicit columns for the series identifier, time </span>
<span class="sd">    index, and exogenous variables.</span>
<span class="sd">    - A pandas DataFrame with a MultiIndex, where the first level contains the </span>
<span class="sd">    series IDs, and the second level contains a pandas DatetimeIndex.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data: pandas DataFrame</span>
<span class="sd">        Long format exogenous variables.</span>
<span class="sd">    freq: str</span>
<span class="sd">        Frequency of the series.</span>
<span class="sd">    series_id: str, default None</span>
<span class="sd">        Column name with the series identifier. Not needed if the input data</span>
<span class="sd">        is a pandas DataFrame with MultiIndex.</span>
<span class="sd">    index: str, default None</span>
<span class="sd">        Column name with the time index. Not needed if the input data is a pandas</span>
<span class="sd">        DataFrame with MultiIndex.</span>
<span class="sd">    drop_all_nan_cols: bool, default False</span>
<span class="sd">        If True, drop columns with all values as NaN. This is useful when</span>
<span class="sd">        there are series without some exogenous variables.</span>
<span class="sd">    consolidate_dtypes: bool, default True</span>
<span class="sd">        Consolidate the data types of the exogenous variables if, after setting</span>
<span class="sd">        the frequency, NaNs have been introduced and the data types have changed</span>
<span class="sd">        to float.</span>
<span class="sd">    suppress_warnings: bool, default False</span>
<span class="sd">        If True, suppress warnings when exog is incomplete after setting the</span>
<span class="sd">        frequency.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    exog_dict: dict</span>
<span class="sd">        Dictionary with the exogenous variables.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;`data` must be a pandas DataFrame.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">MultiIndex</span><span class="p">):</span>

        <span class="n">data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">set_names</span><span class="p">([</span><span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span>
        <span class="n">exog_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="nb">id</span><span class="p">:</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="n">freq</span><span class="p">)</span> <span class="k">for</span> <span class="nb">id</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">levels</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">}</span>

    <span class="k">else</span><span class="p">:</span>

        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="n">series_id</span><span class="p">,</span> <span class="n">index</span><span class="p">]:</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Arguments `series_id`, and `index` must be &quot;</span>
                    <span class="s2">&quot;specified when the input DataFrame does not have a MultiIndex. &quot;</span>
                    <span class="s2">&quot;Please provide a value for each of these arguments.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Column &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; not found in `data`.&quot;</span><span class="p">)</span>

        <span class="n">cols_float_dtype</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> 
            <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_float_dtype</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
        <span class="p">}</span>

        <span class="n">data_grouped</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">series_id</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
        <span class="n">original_sizes</span> <span class="o">=</span> <span class="n">data_grouped</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
        <span class="n">exog_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">tuple</span><span class="p">(</span><span class="n">data_grouped</span><span class="p">))</span>
        <span class="n">exog_dict</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="n">freq</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">series_id</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">exog_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">exog_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">exog_dict</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="n">nans_introduced</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">suppress_warnings</span> <span class="ow">or</span> <span class="n">consolidate_dtypes</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">exog_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">!=</span> <span class="n">original_sizes</span><span class="p">[</span><span class="n">k</span><span class="p">]:</span>
                    <span class="n">nans_introduced</span> <span class="o">=</span> <span class="kc">True</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">suppress_warnings</span><span class="p">:</span>
                        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;Exogenous variables for series &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; are incomplete. &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;NaNs have been introduced after setting the frequency.&quot;</span><span class="p">,</span>
                            <span class="n">MissingValuesWarning</span>
                        <span class="p">)</span>
                    <span class="k">if</span> <span class="n">consolidate_dtypes</span><span class="p">:</span>
                        <span class="n">cols_float_dtype</span><span class="o">.</span><span class="n">update</span><span class="p">(</span>
                            <span class="p">{</span>
                                <span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">v</span><span class="o">.</span><span class="n">columns</span> 
                                <span class="k">if</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_float_dtype</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
                            <span class="p">}</span>
                        <span class="p">)</span>

        <span class="k">if</span> <span class="n">consolidate_dtypes</span> <span class="ow">and</span> <span class="n">nans_introduced</span><span class="p">:</span>
            <span class="n">new_dtypes</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="nb">float</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">cols_float_dtype</span><span class="p">}</span>
            <span class="n">exog_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">new_dtypes</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">exog_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">if</span> <span class="n">drop_all_nan_cols</span><span class="p">:</span>
        <span class="n">exog_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">exog_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

    <span class="k">return</span> <span class="n">exog_dict</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="skforecast.preprocessing.preprocessing.reshape_series_exog_dict_to_long" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">skforecast.preprocessing.preprocessing.reshape_series_exog_dict_to_long</span>


<a href="#skforecast.preprocessing.preprocessing.reshape_series_exog_dict_to_long" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">reshape_series_exog_dict_to_long</span><span class="p">(</span>
    <span class="n">series</span><span class="p">,</span>
    <span class="n">exog</span><span class="p">,</span>
    <span class="n">series_col_name</span><span class="o">=</span><span class="s2">&quot;series_value&quot;</span><span class="p">,</span>
    <span class="n">index_names</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;series_id&quot;</span><span class="p">,</span> <span class="s2">&quot;datetime&quot;</span><span class="p">],</span>
    <span class="n">merge_how</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">

        <p>Convert dictionaries of series and exogenous variables to a long-format
pandas DataFrame with MultiIndex. The first level of the MultiIndex contains the
series identifiers, and the second level contains the temporal index. If both
series and exog are provided, they are merged into a single DataFrame.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>series</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <span title="pandas.Series">Series</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with multiple time series (expected: dict[str, pd.Series]).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exog</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>, <span title="pandas.Series">Series</span> | <span title="pandas.DataFrame">DataFrame</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with exogenous variables (expected: dict[str, pd.Series or pd.DataFrame]).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>series_col_name</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Column name for the series values in the resulting DataFrame.</p>
              </div>
            </td>
            <td>
                  <code>&#39;series_value&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>index_names</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a>[<a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names for the levels of the MultiIndex in the resulting DataFrame. The first
name corresponds to the series identifier, and the second name corresponds
to the temporal index.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;series_id&#39;, &#39;datetime&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>merge_how</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of merge to perform when combining <code>series</code> and <code>exog</code>. Options are:</p>
<ul>
<li>'left': Keep only indices from <code>series</code> (default)</li>
<li>'right': Keep only indices from <code>exog</code></li>
<li>'outer': Keep all indices from both <code>series</code> and <code>exog</code></li>
<li>'inner': Keep only indices present in both</li>
</ul>
              </div>
            </td>
            <td>
                  <code>&#39;left&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>long_df</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Long-format DataFrame with a MultiIndex of two levels:
- First level: series identifier (named by <code>index_names[0]</code>, default 'series_id')
- Second level: temporal index (named by <code>index_names[1]</code>, default 'datetime')
Columns include:
- Series values (named by <code>series_col_name</code>, default 'series_value') if <code>series</code> is provided.
- Exogenous variable columns (from <code>exog</code>) if <code>exog</code> is provided.
If both <code>series</code> and <code>exog</code> are provided, columns from both are present.
If only one is provided, only its columns are present.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span>
<span class="normal">703</span>
<span class="normal">704</span>
<span class="normal">705</span>
<span class="normal">706</span>
<span class="normal">707</span>
<span class="normal">708</span>
<span class="normal">709</span>
<span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span>
<span class="normal">715</span>
<span class="normal">716</span>
<span class="normal">717</span>
<span class="normal">718</span>
<span class="normal">719</span>
<span class="normal">720</span>
<span class="normal">721</span>
<span class="normal">722</span>
<span class="normal">723</span>
<span class="normal">724</span>
<span class="normal">725</span>
<span class="normal">726</span>
<span class="normal">727</span>
<span class="normal">728</span>
<span class="normal">729</span>
<span class="normal">730</span>
<span class="normal">731</span>
<span class="normal">732</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reshape_series_exog_dict_to_long</span><span class="p">(</span>
    <span class="n">series</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">exog</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">series_col_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;series_value&#39;</span><span class="p">,</span>
    <span class="n">index_names</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;series_id&#39;</span><span class="p">,</span> <span class="s1">&#39;datetime&#39;</span><span class="p">],</span>
    <span class="n">merge_how</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert dictionaries of series and exogenous variables to a long-format</span>
<span class="sd">    pandas DataFrame with MultiIndex. The first level of the MultiIndex contains the</span>
<span class="sd">    series identifiers, and the second level contains the temporal index. If both</span>
<span class="sd">    series and exog are provided, they are merged into a single DataFrame.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    series: dict, None</span>
<span class="sd">        Dictionary with multiple time series (expected: dict[str, pd.Series]).</span>
<span class="sd">    exog: dict, None</span>
<span class="sd">        Dictionary with exogenous variables (expected: dict[str, pd.Series or pd.DataFrame]).</span>
<span class="sd">    series_col_name: str, default &#39;series_value&#39;</span>
<span class="sd">        Column name for the series values in the resulting DataFrame.</span>
<span class="sd">    index_names: list[str], default [&#39;series_id&#39;, &#39;datetime&#39;]</span>
<span class="sd">        Names for the levels of the MultiIndex in the resulting DataFrame. The first</span>
<span class="sd">        name corresponds to the series identifier, and the second name corresponds</span>
<span class="sd">        to the temporal index.</span>
<span class="sd">    merge_how: str, default &#39;left&#39;</span>
<span class="sd">        Type of merge to perform when combining `series` and `exog`. Options are:</span>

<span class="sd">        - &#39;left&#39;: Keep only indices from `series` (default)</span>
<span class="sd">        - &#39;right&#39;: Keep only indices from `exog`</span>
<span class="sd">        - &#39;outer&#39;: Keep all indices from both `series` and `exog`</span>
<span class="sd">        - &#39;inner&#39;: Keep only indices present in both</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    long_df : pandas.DataFrame</span>
<span class="sd">        Long-format DataFrame with a MultiIndex of two levels:</span>
<span class="sd">        - First level: series identifier (named by `index_names[0]`, default &#39;series_id&#39;)</span>
<span class="sd">        - Second level: temporal index (named by `index_names[1]`, default &#39;datetime&#39;)</span>
<span class="sd">        Columns include:</span>
<span class="sd">        - Series values (named by `series_col_name`, default &#39;series_value&#39;) if `series` is provided.</span>
<span class="sd">        - Exogenous variable columns (from `exog`) if `exog` is provided.</span>
<span class="sd">        If both `series` and `exog` are provided, columns from both are present.</span>
<span class="sd">        If only one is provided, only its columns are present.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">series</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">exog</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Both `series` and `exog` cannot be None.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">series</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`series` must be a dictionary. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">series</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">series</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`series[&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;]` must be a pandas Series.&quot;</span><span class="p">)</span>
        <span class="n">series</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">series</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">index_names</span><span class="p">)</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">series_col_name</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exog</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exog</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;`exog` must be a dictionary. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">exog</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">exog</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;`exog[&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;]` must be a pandas Series or a pandas DataFrame.&quot;</span>
                <span class="p">)</span>
        <span class="n">exog</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">exog</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">index_names</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">exog</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
            <span class="n">exog</span> <span class="o">=</span> <span class="n">exog</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;exog_value&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">series</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">exog</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">series_idx_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
        <span class="n">exog_idx_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">exog</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">series_idx_type</span> <span class="o">!=</span> <span class="n">exog_idx_type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Index type mismatch: series has index of type &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">series_idx_type</span><span class="si">}</span><span class="s2">, but `exog` has </span><span class="si">{</span><span class="n">exog_idx_type</span><span class="si">}</span><span class="s2">. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Ensure all indices are compatible.&quot;</span>
            <span class="p">)</span>

        <span class="k">if</span> <span class="n">series_col_name</span> <span class="ow">in</span> <span class="n">exog</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Column name conflict: &#39;</span><span class="si">{</span><span class="n">series_col_name</span><span class="si">}</span><span class="s2">&#39; already exists in `exog`. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Please choose a different `series_col_name` value.&quot;</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="n">series</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">long_df</span> <span class="o">=</span> <span class="n">exog</span>
    <span class="k">elif</span> <span class="n">exog</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">long_df</span> <span class="o">=</span> <span class="n">series</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">long_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
            <span class="n">series</span><span class="p">,</span> <span class="n">exog</span><span class="p">,</span> <span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="n">merge_how</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="n">long_df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">TimeSeriesDifferentiator</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">
            <p class="doc doc-class-bases">
              Bases: <code><span title="sklearn.base.BaseEstimator">BaseEstimator</span></code>, <code><span title="sklearn.base.TransformerMixin">TransformerMixin</span></code></p>



        <p>Transforms a time series into a differentiated time series of a specified order
and provides functionality to revert the differentiation. </p>
<p>When using a <code>direct</code> module Forecaster, the model in step 1 must be 
used if you want to reverse the differentiation of the training time 
series with the <code>inverse_transform_training</code> method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>order</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The order of differentiation to be applied.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>window_size</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The window size used by the forecaster. This is required to revert the 
differentiation for the target variable <code>y</code> or its predicted values.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="order


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.order)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.order">order</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The order of differentiation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="initial_values


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.initial_values)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.initial_values">initial_values</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List with the first value of the time series before each differentiation.
If <code>order = 2</code>, first value correspond with the first value of the original
time series and the second value correspond with the first value of the
differentiated time series of order 1. These values are necessary to 
revert the differentiation and reconstruct the original time series.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="pre_train_values


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.pre_train_values)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.pre_train_values">pre_train_values</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List with the first training value of the time series before each differentiation.
For <code>order = 1</code>, the value correspond with the last value of the window used to
create the predictors. For order &gt; 1, the value correspond with the first
value of the differentiated time series prior to the next differentiation.
These values are necessary to revert the differentiation and reconstruct the
training time series.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="last_values


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.last_values)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.last_values">last_values</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List with the last value of the time series before each differentiation, 
used to revert differentiation on subsequent data windows. If <code>order = 2</code>, 
first value correspond with the last value of the original time series 
and the second value correspond with the last value of the differentiated 
time series of order 1. This is essential for correctly transforming a 
time series that follows immediately after the series used to fit the 
transformer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="fit (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.fit)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.fit">fit</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Fits the transformer. Stores the values needed to revert the </p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.transform)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.transform">transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Transforms a time series into a differentiated time series of order n.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="inverse_transform (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform">inverse_transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reverts the differentiation. To do so, the input array is assumed to be</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="inverse_transform_training (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_training)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_training">inverse_transform_training</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reverts the differentiation. To do so, the input array is assumed to be</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="inverse_transform_next_window (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_next_window)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_next_window">inverse_transform_next_window</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Reverts the differentiation. The input array <code>X</code> is assumed to be a </p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="set_params (skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.set_params)" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.set_params">set_params</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Set the parameters of the TimeSeriesDifferentiator.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">order</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">window_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Parameter `order` must be an integer greater than 0. Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">order</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="n">order</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Parameter `order` must be an integer greater than 0. Found </span><span class="si">{</span><span class="n">order</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">window_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">window_size</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">integer</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Parameter `window_size` must be an integer greater than 0. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">window_size</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">window_size</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Parameter `window_size` must be an integer greater than 0. &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="n">window_size</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">window_size</span> <span class="o">=</span> <span class="n">window_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.order" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">order</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.order" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">order</span> <span class="o">=</span> <span class="n">order</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.window_size" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">window_size</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.window_size" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">window_size</span> <span class="o">=</span> <span class="n">window_size</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.initial_values" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">initial_values</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.initial_values" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">initial_values</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.pre_train_values" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">pre_train_values</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.pre_train_values" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">pre_train_values</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.last_values" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">last_values</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.last_values" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">last_values</span> <span class="o">=</span> <span class="p">[]</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.fit" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fit</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.fit" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Fits the transformer. Stores the values needed to revert the 
differentiation of different window of the time series, original 
time series, training time series, and a time series that follows
immediately after the series used to fit the transformer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time series to be differentiated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code><span title="Ignored">Ignored</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not used, present here for API consistency by convention.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>self</code></td>            <td>
                  <code><a class="autorefs autorefs-internal" title="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator" href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator">TimeSeriesDifferentiator</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@_check_X_numpy_ndarray_1d</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">fit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Self</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fits the transformer. Stores the values needed to revert the </span>
<span class="sd">    differentiation of different window of the time series, original </span>
<span class="sd">    time series, training time series, and a time series that follows</span>
<span class="sd">    immediately after the series used to fit the transformer.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        Time series to be differentiated.</span>
<span class="sd">    y : Ignored</span>
<span class="sd">        Not used, present here for API consistency by convention.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    self : TimeSeriesDifferentiator</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">window_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">X_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X_diff</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">window_size</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X_diff</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">window_size</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">X_diff</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">X_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">X_diff</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Transforms a time series into a differentiated time series of order n.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Time series to be differentiated.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code><span title="Ignored">Ignored</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not used, present here for API consistency by convention.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>X_diff</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Differentiated time series. The length of the array is the same as
the original time series but the first n <code>order</code> values are nan.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@_check_X_numpy_ndarray_1d</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Transforms a time series into a differentiated time series of order n.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        Time series to be differentiated.</span>
<span class="sd">    y : Ignored</span>
<span class="sd">        Not used, present here for API consistency by convention.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    X_diff : numpy ndarray</span>
<span class="sd">        Differentiated time series. The length of the array is the same as</span>
<span class="sd">        the original time series but the first n `order` values are nan.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">X_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">)</span>
    <span class="n">X_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)),</span> <span class="n">X_diff</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X_diff</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">inverse_transform</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">inverse_transform</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reverts the differentiation. To do so, the input array is assumed to be
the same time series used to fit the transformer but differentiated.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Differentiated time series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code><span title="Ignored">Ignored</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not used, present here for API consistency by convention.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>X_diff</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reverted differentiated time series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@_check_X_numpy_ndarray_1d</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">inverse_transform</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reverts the differentiation. To do so, the input array is assumed to be</span>
<span class="sd">    the same time series used to fit the transformer but differentiated.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        Differentiated time series.</span>
<span class="sd">    y : Ignored</span>
<span class="sd">        Not used, present here for API consistency by convention.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    X_diff : numpy ndarray</span>
<span class="sd">        Reverted differentiated time series.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># Remove initial nan values if present</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X</span><span class="p">)):]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">initial_values</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)])</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">X_undiff</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_training" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">inverse_transform_training</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_training" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">inverse_transform_training</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reverts the differentiation. To do so, the input array is assumed to be
the differentiated training time series generated with the original 
time series used to fit the transformer.</p>
<p>When using a <code>direct</code> module Forecaster, the model in step 1 must be 
used if you want to reverse the differentiation of the training time 
series with the <code>inverse_transform_training</code> method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Differentiated time series.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code><span title="Ignored">Ignored</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not used, present here for API consistency by convention.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>X_diff</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reverted differentiated time series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@_check_X_numpy_ndarray_1d</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">inverse_transform_training</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> 
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reverts the differentiation. To do so, the input array is assumed to be</span>
<span class="sd">    the differentiated training time series generated with the original </span>
<span class="sd">    time series used to fit the transformer.</span>

<span class="sd">    When using a `direct` module Forecaster, the model in step 1 must be </span>
<span class="sd">    used if you want to reverse the differentiation of the training time </span>
<span class="sd">    series with the `inverse_transform_training` method.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        Differentiated time series.</span>
<span class="sd">    y : Ignored</span>
<span class="sd">        Not used, present here for API consistency by convention.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    X_diff : numpy ndarray</span>
<span class="sd">        Reverted differentiated time series.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The `window_size` parameter must be set before fitting the &quot;</span>
            <span class="s2">&quot;transformer to revert the differentiation of the training &quot;</span>
            <span class="s2">&quot;time series.&quot;</span>
        <span class="p">)</span>

    <span class="c1"># Remove initial nan values if present</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X</span><span class="p">)):]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pre_train_values</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)])</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span>

    <span class="c1"># Remove initial values as they are not part of the training time series</span>
    <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">X_undiff</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">:]</span>

    <span class="k">return</span> <span class="n">X_undiff</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_next_window" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">inverse_transform_next_window</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.inverse_transform_next_window" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">inverse_transform_next_window</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reverts the differentiation. The input array <code>X</code> is assumed to be a 
differentiated time series of order n that starts right after the
the time series used to fit the transformer.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Differentiated time series. It is assumed o start right after
the time series used to fit the transformer.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y</code>
            </td>
            <td>
                  <code><span title="Ignored">Ignored</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Not used, present here for API consistency by convention.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>X_undiff</code></td>            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Reverted differentiated time series.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@_check_X_numpy_ndarray_1d</span><span class="p">(</span><span class="n">ensure_1d</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">inverse_transform_next_window</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reverts the differentiation. The input array `X` is assumed to be a </span>
<span class="sd">    differentiated time series of order n that starts right after the</span>
<span class="sd">    the time series used to fit the transformer.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        Differentiated time series. It is assumed o start right after</span>
<span class="sd">        the time series used to fit the transformer.</span>
<span class="sd">    y : Ignored</span>
<span class="sd">        Not used, present here for API consistency by convention.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    X_undiff : numpy ndarray</span>
<span class="sd">        Reverted differentiated time series.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">array_ndim</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">ndim</span>
    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">np</span><span class="o">.</span><span class="n">newaxis</span><span class="p">]</span>

    <span class="c1"># Remove initial rows with nan values if present</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">X</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">order</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">X_undiff</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_values</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>

    <span class="k">if</span> <span class="n">array_ndim</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">X_undiff</span> <span class="o">=</span> <span class="n">X_undiff</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">X_undiff</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.set_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">set_params</span>


<a href="#skforecast.preprocessing.preprocessing.TimeSeriesDifferentiator.set_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Set the parameters of the TimeSeriesDifferentiator.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of the parameters to set.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the parameters of the TimeSeriesDifferentiator.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    params : dict</span>
<span class="sd">        A dictionary of the parameters to set.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="skforecast.preprocessing.preprocessing.QuantileBinner" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">skforecast.preprocessing.preprocessing.QuantileBinner</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">QuantileBinner</span><span class="p">(</span>
    <span class="n">n_bins</span><span class="p">,</span>
    <span class="n">method</span><span class="o">=</span><span class="s2">&quot;linear&quot;</span><span class="p">,</span>
    <span class="n">subsample</span><span class="o">=</span><span class="mi">200000</span><span class="p">,</span>
    <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">789654</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>QuantileBinner class to bin data into quantile-based bins using <code>numpy.percentile</code>.
This class is similar to <code>KBinsDiscretizer</code> but faster for binning data into
quantile-based bins. Bin  intervals are defined following the convention:
bins[i-1] &lt;= x &lt; bins[i]. See more information in <code>numpy.percentile</code> and
<code>numpy.digitize</code>.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_bins</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of quantile-based bins to create.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used to compute the quantiles. This parameter is passed to 
<code>numpy.percentile</code>. Default is 'linear'. Valid values are "inverse_cdf",
"averaged_inverse_cdf", "closest_observation", "interpolated_inverse_cdf",
"hazen", "weibull", "linear", "median_unbiased", "normal_unbiased".</p>
              </div>
            </td>
            <td>
                  <code>&#39;linear&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>subsample</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples to use for computing quantiles. If the dataset 
has more samples than <code>subsample</code>, a random subset will be used.</p>
              </div>
            </td>
            <td>
                  <code>200000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dtype</code>
            </td>
            <td>
                  <code>data type</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data type to use for the bin indices. Default is <code>numpy.float64</code>.</p>
              </div>
            </td>
            <td>
                  <code>numpy.float64</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>random_state</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The random seed to use for generating a random subset of the data.</p>
              </div>
            </td>
            <td>
                  <code>789654</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="n_bins


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.n_bins)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins">n_bins</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of quantile-based bins to create.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="method


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.method)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.method">method</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used to compute the quantiles. This parameter is passed to 
<code>numpy.percentile</code>. Default is 'linear'. Valid values are 'linear',
'lower', 'higher', 'midpoint', 'nearest'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="subsample


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.subsample)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.subsample">subsample</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples to use for computing quantiles. If the dataset 
has more samples than <code>subsample</code>, a random subset will be used.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="dtype


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.dtype)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.dtype">dtype</a></code></td>
            <td>
                  <code>data type</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data type to use for the bin indices. Default is <code>numpy.float64</code>.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="random_state


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.random_state)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.random_state">random_state</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The random seed to use for generating a random subset of the data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="n_bins_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.n_bins_)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins_">n_bins_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#int">int</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of bins learned during fitting.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="bin_edges_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.bin_edges_)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.bin_edges_">bin_edges_</a></code></td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The edges of the bins learned during fitting.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="intervals_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.QuantileBinner.intervals_)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.intervals_">intervals_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary with the bin indices as keys and the corresponding bin
intervals as values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="fit (skforecast.preprocessing.preprocessing.QuantileBinner.fit)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit">fit</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Learn the bin edges based on quantiles from the training data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform (skforecast.preprocessing.preprocessing.QuantileBinner.transform)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.transform">transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Assign new data to the learned bins.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="fit_transform (skforecast.preprocessing.preprocessing.QuantileBinner.fit_transform)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit_transform">fit_transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Fit the model to the data and return the bin indices for the same data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="get_params (skforecast.preprocessing.preprocessing.QuantileBinner.get_params)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.get_params">get_params</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Get the parameters of the quantile binner.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="set_params (skforecast.preprocessing.preprocessing.QuantileBinner.set_params)" href="#skforecast.preprocessing.preprocessing.QuantileBinner.set_params">set_params</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Set the parameters of the QuantileBinner.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_bins</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;linear&quot;</span><span class="p">,</span>
    <span class="n">subsample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">200000</span><span class="p">,</span>
    <span class="n">dtype</span><span class="p">:</span> <span class="nb">type</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">789654</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_params</span><span class="p">(</span>
        <span class="n">n_bins</span><span class="p">,</span>
        <span class="n">method</span><span class="p">,</span>
        <span class="n">subsample</span><span class="p">,</span>
        <span class="n">dtype</span><span class="p">,</span>
        <span class="n">random_state</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span>       <span class="o">=</span> <span class="n">n_bins</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">method</span>       <span class="o">=</span> <span class="n">method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">subsample</span>    <span class="o">=</span> <span class="n">subsample</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span>        <span class="o">=</span> <span class="n">dtype</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">random_state</span> <span class="o">=</span> <span class="n">random_state</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_bins_</span>      <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span>   <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">intervals_</span>   <span class="o">=</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.n_bins" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">n_bins</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">n_bins</span> <span class="o">=</span> <span class="n">n_bins</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.method" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">method</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.method" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.subsample" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">subsample</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.subsample" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">subsample</span> <span class="o">=</span> <span class="n">subsample</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.dtype" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">dtype</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.dtype" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">dtype</span> <span class="o">=</span> <span class="n">dtype</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.random_state" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">random_state</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.random_state" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">random_state</span> <span class="o">=</span> <span class="n">random_state</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.n_bins_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">n_bins_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.n_bins_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">n_bins_</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.bin_edges_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">bin_edges_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.bin_edges_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">bin_edges_</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.intervals_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">intervals_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.intervals_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">intervals_</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner._validate_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_validate_params</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner._validate_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="n">n_bins</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">subsample</span><span class="p">,</span> <span class="n">dtype</span><span class="p">,</span> <span class="n">random_state</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Validate the parameters passed to the class initializer.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_validate_params</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_bins</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">subsample</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">dtype</span><span class="p">:</span> <span class="nb">type</span><span class="p">,</span>
    <span class="n">random_state</span><span class="p">:</span> <span class="nb">int</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate the parameters passed to the class initializer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n_bins</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">n_bins</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`n_bins` must be an int greater than 1. Got </span><span class="si">{</span><span class="n">n_bins</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>

    <span class="n">valid_methods</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;inverse_cdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;averaged_inverse_cdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;closest_observation&quot;</span><span class="p">,</span>
        <span class="s2">&quot;interpolated_inverse_cdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hazen&quot;</span><span class="p">,</span>
        <span class="s2">&quot;weibull&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linear&quot;</span><span class="p">,</span>
        <span class="s2">&quot;median_unbiased&quot;</span><span class="p">,</span>
        <span class="s2">&quot;normal_unbiased&quot;</span><span class="p">,</span>
    <span class="p">]</span>
    <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_methods</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`method` must be one of </span><span class="si">{</span><span class="n">valid_methods</span><span class="si">}</span><span class="s2">. Got </span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">subsample</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">subsample</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`subsample` must be an integer greater than or equal to 1. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="n">subsample</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">random_state</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">random_state</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`random_state` must be an integer greater than or equal to 0. &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;Got </span><span class="si">{</span><span class="n">random_state</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dtype</span><span class="p">,</span> <span class="nb">type</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`dtype` must be a valid numpy dtype. Got </span><span class="si">{</span><span class="n">dtype</span><span class="si">}</span><span class="s2">.&quot;</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.fit" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fit</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Learn the bin edges based on quantiles from the training data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The training data used to compute the quantiles.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span>
<span class="normal">2332</span>
<span class="normal">2333</span>
<span class="normal">2334</span>
<span class="normal">2335</span>
<span class="normal">2336</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Learn the bin edges based on quantiles from the training data.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        The training data used to compute the quantiles.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">X</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Input data `X` cannot be empty.&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">subsample</span><span class="p">:</span>
        <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">random_state</span><span class="p">)</span>
        <span class="n">X</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">subsample</span><span class="p">)]</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span>
        <span class="n">a</span>      <span class="o">=</span> <span class="n">X</span><span class="p">,</span>
        <span class="n">q</span>      <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span> <span class="o">+</span> <span class="mi">1</span><span class="p">),</span>
        <span class="n">method</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">n_bins_</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">intervals_</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span><span class="p">[</span><span class="n">i</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n_bins_</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Assign new data to the learned bins.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code>numpy ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to assign to the bins.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bin_indices</code></td>            <td>
                  <code>numpy ndarray </code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The indices of the bins each value belongs to.
Values less than the smallest bin edge are assigned to the first bin,
and values greater than the largest bin edge are assigned to the last bin.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2338</span>
<span class="normal">2339</span>
<span class="normal">2340</span>
<span class="normal">2341</span>
<span class="normal">2342</span>
<span class="normal">2343</span>
<span class="normal">2344</span>
<span class="normal">2345</span>
<span class="normal">2346</span>
<span class="normal">2347</span>
<span class="normal">2348</span>
<span class="normal">2349</span>
<span class="normal">2350</span>
<span class="normal">2351</span>
<span class="normal">2352</span>
<span class="normal">2353</span>
<span class="normal">2354</span>
<span class="normal">2355</span>
<span class="normal">2356</span>
<span class="normal">2357</span>
<span class="normal">2358</span>
<span class="normal">2359</span>
<span class="normal">2360</span>
<span class="normal">2361</span>
<span class="normal">2362</span>
<span class="normal">2363</span>
<span class="normal">2364</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Assign new data to the learned bins.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy ndarray</span>
<span class="sd">        The data to assign to the bins.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bin_indices : numpy ndarray </span>
<span class="sd">        The indices of the bins each value belongs to.</span>
<span class="sd">        Values less than the smallest bin edge are assigned to the first bin,</span>
<span class="sd">        and values greater than the largest bin edge are assigned to the last bin.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">NotFittedError</span><span class="p">(</span>
            <span class="s2">&quot;The model has not been fitted yet. Call &#39;fit&#39; with training data first.&quot;</span>
        <span class="p">)</span>

    <span class="n">bin_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">digitize</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_edges_</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">bin_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">bin_indices</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_bins_</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">bin_indices</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.fit_transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fit_transform</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.fit_transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Fit the model to the data and return the bin indices for the same data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>X</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to fit and transform.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bin_indices</code></td>            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The indices of the bins each value belongs to.
Values less than the smallest bin edge are assigned to the first bin,
and values greater than the largest bin edge are assigned to the last bin.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2366</span>
<span class="normal">2367</span>
<span class="normal">2368</span>
<span class="normal">2369</span>
<span class="normal">2370</span>
<span class="normal">2371</span>
<span class="normal">2372</span>
<span class="normal">2373</span>
<span class="normal">2374</span>
<span class="normal">2375</span>
<span class="normal">2376</span>
<span class="normal">2377</span>
<span class="normal">2378</span>
<span class="normal">2379</span>
<span class="normal">2380</span>
<span class="normal">2381</span>
<span class="normal">2382</span>
<span class="normal">2383</span>
<span class="normal">2384</span>
<span class="normal">2385</span>
<span class="normal">2386</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fit_transform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">X</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Fit the model to the data and return the bin indices for the same data.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    X : numpy.ndarray</span>
<span class="sd">        The data to fit and transform.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    bin_indices : numpy.ndarray</span>
<span class="sd">        The indices of the bins each value belongs to.</span>
<span class="sd">        Values less than the smallest bin edge are assigned to the first bin,</span>
<span class="sd">        and values greater than the largest bin edge are assigned to the last bin.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.get_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">get_params</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.get_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">get_params</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the parameters of the quantile binner.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>self</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>params</code></td>            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of the parameters of the quantile binner.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2388</span>
<span class="normal">2389</span>
<span class="normal">2390</span>
<span class="normal">2391</span>
<span class="normal">2392</span>
<span class="normal">2393</span>
<span class="normal">2394</span>
<span class="normal">2395</span>
<span class="normal">2396</span>
<span class="normal">2397</span>
<span class="normal">2398</span>
<span class="normal">2399</span>
<span class="normal">2400</span>
<span class="normal">2401</span>
<span class="normal">2402</span>
<span class="normal">2403</span>
<span class="normal">2404</span>
<span class="normal">2405</span>
<span class="normal">2406</span>
<span class="normal">2407</span>
<span class="normal">2408</span>
<span class="normal">2409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_params</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get the parameters of the quantile binner.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    self</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    params : dict</span>
<span class="sd">        A dictionary of the parameters of the quantile binner.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="s2">&quot;n_bins&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">n_bins</span><span class="p">,</span>
        <span class="s2">&quot;method&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
        <span class="s2">&quot;subsample&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">subsample</span><span class="p">,</span>
        <span class="s2">&quot;dtype&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dtype</span><span class="p">,</span>
        <span class="s2">&quot;random_state&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">random_state</span><span class="p">,</span>
    <span class="p">}</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.QuantileBinner.set_params" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">set_params</span>


<a href="#skforecast.preprocessing.preprocessing.QuantileBinner.set_params" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">set_params</span><span class="p">(</span><span class="o">**</span><span class="n">params</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Set the parameters of the QuantileBinner.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A dictionary of the parameters to set.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2411</span>
<span class="normal">2412</span>
<span class="normal">2413</span>
<span class="normal">2414</span>
<span class="normal">2415</span>
<span class="normal">2416</span>
<span class="normal">2417</span>
<span class="normal">2418</span>
<span class="normal">2419</span>
<span class="normal">2420</span>
<span class="normal">2421</span>
<span class="normal">2422</span>
<span class="normal">2423</span>
<span class="normal">2424</span>
<span class="normal">2425</span>
<span class="normal">2426</span>
<span class="normal">2427</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">set_params</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Set the parameters of the QuantileBinner.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    params : dict</span>
<span class="sd">        A dictionary of the parameters to set.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">param</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator</span>


<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator" class="headerlink" title="Permanent link">&para;</a></h2>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">ConformalIntervalCalibrator</span><span class="p">(</span>
    <span class="n">nominal_coverage</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">symmetric_calibration</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents first">



        <p>Transformer that calibrates the prediction interval to achieve the desired 
coverage based on conformity scores. It uses the conformal split method.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>nominal_coverage</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Desired coverage. This is the desired probability that the true value 
falls within the calibrated interval.</p>
              </div>
            </td>
            <td>
                  <code>0.8</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>symmetric_calibration</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#bool">bool</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the calibration factor is the same for the lower and upper bounds.
If False, the calibration factor is different for the lower and upper bounds.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="nominal_coverage


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.nominal_coverage)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.nominal_coverage">nominal_coverage</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/functions.html#float">float</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Desired coverage. This is the desired probability that the true value 
falls within the calibrated interval.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="symmetric_calibration


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.symmetric_calibration)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.symmetric_calibration">symmetric_calibration</a></code></td>
            <td>
                  <code>bool, default True</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, the calibration factor is the same for the lower and upper bounds.
If False, the calibration factor is different for the lower and upper bounds.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="correction_factor_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_">correction_factor_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Correction factor to achieve the desired coverage. This is the correction
factor used when <code>symmetric_calibration</code> is True.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="correction_factor_lower_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_lower_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_lower_">correction_factor_lower_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Correction factor for the lower bound to achieve the desired coverage. It is
used when <code>symmetric_calibration</code> is False.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="correction_factor_upper_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_upper_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_upper_">correction_factor_upper_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Correction factor for the upper bound to achieve the desired coverage. It is
used when <code>symmetric_calibration</code> is False.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="fit_coverage_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_coverage_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_coverage_">fit_coverage_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#dict">dict</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Coverage observed in the data used to fit the transformer. This is the
empirical coverage from which the correction factor is learned.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="fit_input_type_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_input_type_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_input_type_">fit_input_type_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#str">str</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Type of input data used to fit the transformer. Can be 'single' or 'multi'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><a class="autorefs autorefs-internal" title="fit_series_names_


  
      instance-attribute
   (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_series_names_)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_series_names_">fit_series_names_</a></code></td>
            <td>
                  <code><a class="autorefs autorefs-external" href="https://docs.python.org/3/library/stdtypes.html#list">list</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Names of the series used to fit the transformer.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>












<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="fit (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit">fit</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Learn the correction factor needed to achieve the desired coverage.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="transform (skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.transform)" href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.transform">transform</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Apply the correction factor to the prediction interval to achieve the desired</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



                  <details class="mkdocstrings-source">
                    <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
                    <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2471</span>
<span class="normal">2472</span>
<span class="normal">2473</span>
<span class="normal">2474</span>
<span class="normal">2475</span>
<span class="normal">2476</span>
<span class="normal">2477</span>
<span class="normal">2478</span>
<span class="normal">2479</span>
<span class="normal">2480</span>
<span class="normal">2481</span>
<span class="normal">2482</span>
<span class="normal">2483</span>
<span class="normal">2484</span>
<span class="normal">2485</span>
<span class="normal">2486</span>
<span class="normal">2487</span>
<span class="normal">2488</span>
<span class="normal">2489</span>
<span class="normal">2490</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">nominal_coverage</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">,</span>
    <span class="n">symmetric_calibration</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

    <span class="k">if</span> <span class="n">nominal_coverage</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">nominal_coverage</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;`nominal_coverage` must be a float between 0 and 1. Got </span><span class="si">{</span><span class="n">nominal_coverage</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">nominal_coverage</span>         <span class="o">=</span> <span class="n">nominal_coverage</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">symmetric_calibration</span>    <span class="o">=</span> <span class="n">symmetric_calibration</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_</span>       <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_lower_</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_upper_</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_coverage_</span>            <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span>          <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span>        <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_fitted</span>                <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.nominal_coverage" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">nominal_coverage</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.nominal_coverage" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">nominal_coverage</span> <span class="o">=</span> <span class="n">nominal_coverage</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.symmetric_calibration" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">symmetric_calibration</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.symmetric_calibration" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">symmetric_calibration</span> <span class="o">=</span> <span class="n">symmetric_calibration</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">correction_factor_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">correction_factor_</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_lower_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">correction_factor_lower_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_lower_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">correction_factor_lower_</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_upper_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">correction_factor_upper_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.correction_factor_upper_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">correction_factor_upper_</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_coverage_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">fit_coverage_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_coverage_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">fit_coverage_</span> <span class="o">=</span> <span class="p">{}</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_input_type_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">fit_input_type_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_input_type_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">fit_input_type_</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_series_names_" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">fit_series_names_</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit_series_names_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">fit_series_names_</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.is_fitted" class="doc doc-heading">
            <span class="doc doc-object-name doc-attribute-name">is_fitted</span>


  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-instance-attribute"><code>instance-attribute</code></small>
  </span>

<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.is_fitted" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="n">is_fitted</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>

    <div class="doc doc-contents ">

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator._repr_html_" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">_repr_html_</span>


<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator._repr_html_" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">_repr_html_</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>HTML representation of the object.
The "General Information" section is expanded by default.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2514</span>
<span class="normal">2515</span>
<span class="normal">2516</span>
<span class="normal">2517</span>
<span class="normal">2518</span>
<span class="normal">2519</span>
<span class="normal">2520</span>
<span class="normal">2521</span>
<span class="normal">2522</span>
<span class="normal">2523</span>
<span class="normal">2524</span>
<span class="normal">2525</span>
<span class="normal">2526</span>
<span class="normal">2527</span>
<span class="normal">2528</span>
<span class="normal">2529</span>
<span class="normal">2530</span>
<span class="normal">2531</span>
<span class="normal">2532</span>
<span class="normal">2533</span>
<span class="normal">2534</span>
<span class="normal">2535</span>
<span class="normal">2536</span>
<span class="normal">2537</span>
<span class="normal">2538</span>
<span class="normal">2539</span>
<span class="normal">2540</span>
<span class="normal">2541</span>
<span class="normal">2542</span>
<span class="normal">2543</span>
<span class="normal">2544</span>
<span class="normal">2545</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">_repr_html_</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    HTML representation of the object.</span>
<span class="sd">    The &quot;General Information&quot; section is expanded by default.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">style</span><span class="p">,</span> <span class="n">unique_id</span> <span class="o">=</span> <span class="n">get_style_repr_html</span><span class="p">(</span><span class="n">is_fitted</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">is_fitted</span><span class="p">)</span>

    <span class="n">content</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    &lt;div class=&quot;container-</span><span class="si">{</span><span class="n">unique_id</span><span class="si">}</span><span class="s2">&quot;&gt;</span>
<span class="s2">        &lt;p style=&quot;font-size: 1.5em; font-weight: bold; margin-block-start: 0.83em; margin-block-end: 0.83em;&quot;&gt;</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&lt;/p&gt;</span>
<span class="s2">        &lt;details open&gt;</span>
<span class="s2">            &lt;summary&gt;General Information&lt;/summary&gt;</span>
<span class="s2">            &lt;ul&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Nominal coverage:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">nominal_coverage</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Coverage in fit data:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_coverage_</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Symmetric interval:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">symmetric_calibration</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Symmetric correction factor:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Asymmetric correction factor lower:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_lower_</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Asymmetric correction factor upper:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_upper_</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">                &lt;li&gt;&lt;strong&gt;Fitted series:&lt;/strong&gt; </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span><span class="si">}</span><span class="s2">&lt;/li&gt;</span>
<span class="s2">            &lt;/ul&gt;</span>
<span class="s2">        &lt;/details&gt;</span>
<span class="s2">        &lt;p&gt;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/api/preprocessing#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator&quot;&gt;&amp;#128712 &lt;strong&gt;API Reference&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">            &amp;nbsp;&amp;nbsp;</span>
<span class="s2">            &lt;a href=&quot;https://skforecast.org/</span><span class="si">{</span><span class="n">__version__</span><span class="si">}</span><span class="s2">/user_guides/probabilistic-forecasting-conformal-calibration.html&quot;&gt;&amp;#128462 &lt;strong&gt;User Guide&lt;/strong&gt;&lt;/a&gt;</span>
<span class="s2">        &lt;/p&gt;</span>
<span class="s2">    &lt;/div&gt;</span>
<span class="s2">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">style</span> <span class="o">+</span> <span class="n">content</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">fit</span>


<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.fit" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">fit</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">y_pred_interval</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Learn the correction factor needed to achieve the desired coverage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>y_true</code>
            </td>
            <td>
                  <code>pandas Series, pandas DataFrame, dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True values of the time series.</p>
<ul>
<li>If pandas Series, it is assumed that only one series is available.</li>
<li>If pandas DataFrame, it is assumed that each column is a different 
series which will be calibrated separately. The column names are 
used as series names.</li>
<li>If dict, it is assumed that each key is a series name and the 
corresponding value is a pandas Series with the true values.</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_pred_interval</code>
            </td>
            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Prediction interval estimated for the time series. </p>
<ul>
<li>If <code>y_true</code> contains only one series, <code>y_pred_interval</code> must have 
two columns, 'lower_bound' and 'upper_bound'.</li>
<li>If <code>y_true</code> contains multiple series, <code>y_pred_interval</code> must be
a long-format DataFrame with three columns: 'level', 'lower_bound',
and 'upper_bound'. The 'level' column identifies the series to which
each interval belongs.</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>None</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2547</span>
<span class="normal">2548</span>
<span class="normal">2549</span>
<span class="normal">2550</span>
<span class="normal">2551</span>
<span class="normal">2552</span>
<span class="normal">2553</span>
<span class="normal">2554</span>
<span class="normal">2555</span>
<span class="normal">2556</span>
<span class="normal">2557</span>
<span class="normal">2558</span>
<span class="normal">2559</span>
<span class="normal">2560</span>
<span class="normal">2561</span>
<span class="normal">2562</span>
<span class="normal">2563</span>
<span class="normal">2564</span>
<span class="normal">2565</span>
<span class="normal">2566</span>
<span class="normal">2567</span>
<span class="normal">2568</span>
<span class="normal">2569</span>
<span class="normal">2570</span>
<span class="normal">2571</span>
<span class="normal">2572</span>
<span class="normal">2573</span>
<span class="normal">2574</span>
<span class="normal">2575</span>
<span class="normal">2576</span>
<span class="normal">2577</span>
<span class="normal">2578</span>
<span class="normal">2579</span>
<span class="normal">2580</span>
<span class="normal">2581</span>
<span class="normal">2582</span>
<span class="normal">2583</span>
<span class="normal">2584</span>
<span class="normal">2585</span>
<span class="normal">2586</span>
<span class="normal">2587</span>
<span class="normal">2588</span>
<span class="normal">2589</span>
<span class="normal">2590</span>
<span class="normal">2591</span>
<span class="normal">2592</span>
<span class="normal">2593</span>
<span class="normal">2594</span>
<span class="normal">2595</span>
<span class="normal">2596</span>
<span class="normal">2597</span>
<span class="normal">2598</span>
<span class="normal">2599</span>
<span class="normal">2600</span>
<span class="normal">2601</span>
<span class="normal">2602</span>
<span class="normal">2603</span>
<span class="normal">2604</span>
<span class="normal">2605</span>
<span class="normal">2606</span>
<span class="normal">2607</span>
<span class="normal">2608</span>
<span class="normal">2609</span>
<span class="normal">2610</span>
<span class="normal">2611</span>
<span class="normal">2612</span>
<span class="normal">2613</span>
<span class="normal">2614</span>
<span class="normal">2615</span>
<span class="normal">2616</span>
<span class="normal">2617</span>
<span class="normal">2618</span>
<span class="normal">2619</span>
<span class="normal">2620</span>
<span class="normal">2621</span>
<span class="normal">2622</span>
<span class="normal">2623</span>
<span class="normal">2624</span>
<span class="normal">2625</span>
<span class="normal">2626</span>
<span class="normal">2627</span>
<span class="normal">2628</span>
<span class="normal">2629</span>
<span class="normal">2630</span>
<span class="normal">2631</span>
<span class="normal">2632</span>
<span class="normal">2633</span>
<span class="normal">2634</span>
<span class="normal">2635</span>
<span class="normal">2636</span>
<span class="normal">2637</span>
<span class="normal">2638</span>
<span class="normal">2639</span>
<span class="normal">2640</span>
<span class="normal">2641</span>
<span class="normal">2642</span>
<span class="normal">2643</span>
<span class="normal">2644</span>
<span class="normal">2645</span>
<span class="normal">2646</span>
<span class="normal">2647</span>
<span class="normal">2648</span>
<span class="normal">2649</span>
<span class="normal">2650</span>
<span class="normal">2651</span>
<span class="normal">2652</span>
<span class="normal">2653</span>
<span class="normal">2654</span>
<span class="normal">2655</span>
<span class="normal">2656</span>
<span class="normal">2657</span>
<span class="normal">2658</span>
<span class="normal">2659</span>
<span class="normal">2660</span>
<span class="normal">2661</span>
<span class="normal">2662</span>
<span class="normal">2663</span>
<span class="normal">2664</span>
<span class="normal">2665</span>
<span class="normal">2666</span>
<span class="normal">2667</span>
<span class="normal">2668</span>
<span class="normal">2669</span>
<span class="normal">2670</span>
<span class="normal">2671</span>
<span class="normal">2672</span>
<span class="normal">2673</span>
<span class="normal">2674</span>
<span class="normal">2675</span>
<span class="normal">2676</span>
<span class="normal">2677</span>
<span class="normal">2678</span>
<span class="normal">2679</span>
<span class="normal">2680</span>
<span class="normal">2681</span>
<span class="normal">2682</span>
<span class="normal">2683</span>
<span class="normal">2684</span>
<span class="normal">2685</span>
<span class="normal">2686</span>
<span class="normal">2687</span>
<span class="normal">2688</span>
<span class="normal">2689</span>
<span class="normal">2690</span>
<span class="normal">2691</span>
<span class="normal">2692</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">fit</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">y_true</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span> <span class="o">|</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">],</span>
    <span class="n">y_pred_interval</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Learn the correction factor needed to achieve the desired coverage.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_true : pandas Series, pandas DataFrame, dict</span>
<span class="sd">        True values of the time series.</span>

<span class="sd">        - If pandas Series, it is assumed that only one series is available.</span>
<span class="sd">        - If pandas DataFrame, it is assumed that each column is a different </span>
<span class="sd">        series which will be calibrated separately. The column names are </span>
<span class="sd">        used as series names.</span>
<span class="sd">        - If dict, it is assumed that each key is a series name and the </span>
<span class="sd">        corresponding value is a pandas Series with the true values.</span>
<span class="sd">    y_pred_interval : pandas DataFrame</span>
<span class="sd">        Prediction interval estimated for the time series. </span>

<span class="sd">        - If `y_true` contains only one series, `y_pred_interval` must have </span>
<span class="sd">        two columns, &#39;lower_bound&#39; and &#39;upper_bound&#39;.</span>
<span class="sd">        - If `y_true` contains multiple series, `y_pred_interval` must be</span>
<span class="sd">        a long-format DataFrame with three columns: &#39;level&#39;, &#39;lower_bound&#39;,</span>
<span class="sd">        and &#39;upper_bound&#39;. The &#39;level&#39; column identifies the series to which</span>
<span class="sd">        each interval belongs.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    None</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_</span>       <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_lower_</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_upper_</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_coverage_</span>            <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span>          <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span>        <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_fitted</span>                <span class="o">=</span> <span class="kc">False</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="nb">dict</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`y_true` must be a pandas Series, pandas DataFrame, or a dictionary.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`y_pred_interval` must be a pandas DataFrame.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">([</span><span class="s2">&quot;lower_bound&quot;</span><span class="p">,</span> <span class="s2">&quot;upper_bound&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;`y_pred_interval` must have columns &#39;lower_bound&#39; and &#39;upper_bound&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="nb">dict</span><span class="p">))</span> <span class="ow">and</span> <span class="s1">&#39;level&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;If `y_true` is a pandas DataFrame or a dictionary, `y_pred_interval` &quot;</span>
            <span class="s2">&quot;must have an additional column &#39;level&#39; to identify each series.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">y_true</span><span class="o">.</span><span class="n">name</span> <span class="k">if</span> <span class="n">y_true</span><span class="o">.</span><span class="n">name</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="s1">&#39;y&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span> <span class="o">=</span> <span class="s2">&quot;single_series&quot;</span>    
        <span class="n">y_true</span> <span class="o">=</span> <span class="p">{</span><span class="n">name</span><span class="p">:</span> <span class="n">y_true</span><span class="p">}</span>

        <span class="k">if</span> <span class="s2">&quot;level&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">y_pred_interval</span> <span class="o">=</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">y_pred_interval</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">y_pred_interval</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;If `y_true` is a pandas Series, `y_pred_interval` must have &quot;</span>
                    <span class="s2">&quot;only one series. Found multiple values in column &#39;level&#39;.&quot;</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">y_pred_interval</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;Series name in `y_true`, &#39;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, does not match the level &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;name in `y_pred_interval`, &#39;</span><span class="si">{</span><span class="n">y_pred_interval</span><span class="p">[</span><span class="s1">&#39;level&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_true</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span> <span class="o">=</span> <span class="s2">&quot;multiple_series&quot;</span>
        <span class="n">y_true</span> <span class="o">=</span> <span class="n">y_true</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">&#39;series&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span> <span class="o">=</span> <span class="s2">&quot;multiple_series&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_true</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;When `y_true` is a dict, all its values must be pandas &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;Series. Got </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">}</span><span class="s2"> for series &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
                <span class="p">)</span>

    <span class="n">y_pred_interval</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="n">v</span><span class="p">[[</span><span class="s1">&#39;lower_bound&#39;</span><span class="p">,</span> <span class="s1">&#39;upper_bound&#39;</span><span class="p">]]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">==</span> <span class="n">y_true</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Series names in `y_true` and `y_pred_interval` do not match.</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;   `y_true` series names          : </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">y_true</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span>
            <span class="sa">f</span><span class="s2">&quot;   `y_pred_interval` series names : </span><span class="si">{</span><span class="nb">list</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">y_true</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">y_true</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IndexError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Index of `y_true` and `y_pred_interval` must match. Different &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;indices found for series &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39;.&quot;</span>
            <span class="p">)</span>

        <span class="n">y_true_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_true</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
        <span class="n">y_pred_interval_</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

        <span class="n">lower_bound</span> <span class="o">=</span> <span class="n">y_pred_interval_</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="n">upper_bound</span> <span class="o">=</span> <span class="n">y_pred_interval_</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
        <span class="n">conformity_scores_lower</span> <span class="o">=</span> <span class="n">lower_bound</span> <span class="o">-</span> <span class="n">y_true_</span>
        <span class="n">conformity_scores_upper</span> <span class="o">=</span> <span class="n">y_true_</span> <span class="o">-</span> <span class="n">upper_bound</span>
        <span class="n">conformity_scores</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">conformity_scores_lower</span><span class="p">,</span>
                <span class="n">conformity_scores_upper</span><span class="p">,</span>
            <span class="p">],</span>
            <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">conformity_scores</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nominal_coverage</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_lower_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
            <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">conformity_scores_lower</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nominal_coverage</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_upper_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="n">conformity_scores_upper</span><span class="p">,</span>  <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">nominal_coverage</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">coverage_fit_</span> <span class="o">=</span> <span class="n">calculate_coverage</span><span class="p">(</span>
                            <span class="n">y_true</span>      <span class="o">=</span> <span class="n">y_true_</span><span class="p">,</span>
                            <span class="n">lower_bound</span> <span class="o">=</span> <span class="n">lower_bound</span><span class="p">,</span>
                            <span class="n">upper_bound</span> <span class="o">=</span> <span class="n">upper_bound</span><span class="p">,</span>
                        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fit_coverage_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">coverage_fit_</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">is_fitted</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">y_true</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.transform" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">transform</span>


<a href="#skforecast.preprocessing.preprocessing.ConformalIntervalCalibrator.transform" class="headerlink" title="Permanent link">&para;</a></h3>
<div class="language-python doc-signature highlight"><pre><span></span><code><span class="nf">transform</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Apply the correction factor to the prediction interval to achieve the desired
coverage.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>y_pred_interval</code>
            </td>
            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Prediction interval to be calibrated using conformal method.</p>
<ul>
<li>If only intervals for one series are available, <code>y_pred_interval</code> 
must have two columns, 'lower_bound' and 'upper_bound'.</li>
<li>If multiple series are available, <code>y_pred_interval</code> must be
a long-format DataFrame with three columns: 'level', 'lower_bound',
and 'upper_bound'. The 'level' column identifies the series to which
each interval belongs.</li>
</ul>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>y_pred_interval_conformal</code></td>            <td>
                  <code>pandas DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Prediction interval with the correction factor applied.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>skforecast\preprocessing\preprocessing.py</code></summary>
              <div class="language-python highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2694</span>
<span class="normal">2695</span>
<span class="normal">2696</span>
<span class="normal">2697</span>
<span class="normal">2698</span>
<span class="normal">2699</span>
<span class="normal">2700</span>
<span class="normal">2701</span>
<span class="normal">2702</span>
<span class="normal">2703</span>
<span class="normal">2704</span>
<span class="normal">2705</span>
<span class="normal">2706</span>
<span class="normal">2707</span>
<span class="normal">2708</span>
<span class="normal">2709</span>
<span class="normal">2710</span>
<span class="normal">2711</span>
<span class="normal">2712</span>
<span class="normal">2713</span>
<span class="normal">2714</span>
<span class="normal">2715</span>
<span class="normal">2716</span>
<span class="normal">2717</span>
<span class="normal">2718</span>
<span class="normal">2719</span>
<span class="normal">2720</span>
<span class="normal">2721</span>
<span class="normal">2722</span>
<span class="normal">2723</span>
<span class="normal">2724</span>
<span class="normal">2725</span>
<span class="normal">2726</span>
<span class="normal">2727</span>
<span class="normal">2728</span>
<span class="normal">2729</span>
<span class="normal">2730</span>
<span class="normal">2731</span>
<span class="normal">2732</span>
<span class="normal">2733</span>
<span class="normal">2734</span>
<span class="normal">2735</span>
<span class="normal">2736</span>
<span class="normal">2737</span>
<span class="normal">2738</span>
<span class="normal">2739</span>
<span class="normal">2740</span>
<span class="normal">2741</span>
<span class="normal">2742</span>
<span class="normal">2743</span>
<span class="normal">2744</span>
<span class="normal">2745</span>
<span class="normal">2746</span>
<span class="normal">2747</span>
<span class="normal">2748</span>
<span class="normal">2749</span>
<span class="normal">2750</span>
<span class="normal">2751</span>
<span class="normal">2752</span>
<span class="normal">2753</span>
<span class="normal">2754</span>
<span class="normal">2755</span>
<span class="normal">2756</span>
<span class="normal">2757</span>
<span class="normal">2758</span>
<span class="normal">2759</span>
<span class="normal">2760</span>
<span class="normal">2761</span>
<span class="normal">2762</span>
<span class="normal">2763</span>
<span class="normal">2764</span>
<span class="normal">2765</span>
<span class="normal">2766</span>
<span class="normal">2767</span>
<span class="normal">2768</span>
<span class="normal">2769</span>
<span class="normal">2770</span>
<span class="normal">2771</span>
<span class="normal">2772</span>
<span class="normal">2773</span>
<span class="normal">2774</span>
<span class="normal">2775</span>
<span class="normal">2776</span>
<span class="normal">2777</span>
<span class="normal">2778</span>
<span class="normal">2779</span>
<span class="normal">2780</span>
<span class="normal">2781</span>
<span class="normal">2782</span>
<span class="normal">2783</span>
<span class="normal">2784</span>
<span class="normal">2785</span>
<span class="normal">2786</span>
<span class="normal">2787</span>
<span class="normal">2788</span>
<span class="normal">2789</span>
<span class="normal">2790</span>
<span class="normal">2791</span>
<span class="normal">2792</span>
<span class="normal">2793</span>
<span class="normal">2794</span>
<span class="normal">2795</span>
<span class="normal">2796</span>
<span class="normal">2797</span>
<span class="normal">2798</span>
<span class="normal">2799</span>
<span class="normal">2800</span>
<span class="normal">2801</span>
<span class="normal">2802</span>
<span class="normal">2803</span>
<span class="normal">2804</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">transform</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> 
    <span class="n">y_pred_interval</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Apply the correction factor to the prediction interval to achieve the desired</span>
<span class="sd">    coverage.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    y_pred_interval : pandas DataFrame</span>
<span class="sd">        Prediction interval to be calibrated using conformal method.</span>

<span class="sd">        - If only intervals for one series are available, `y_pred_interval` </span>
<span class="sd">        must have two columns, &#39;lower_bound&#39; and &#39;upper_bound&#39;.</span>
<span class="sd">        - If multiple series are available, `y_pred_interval` must be</span>
<span class="sd">        a long-format DataFrame with three columns: &#39;level&#39;, &#39;lower_bound&#39;,</span>
<span class="sd">        and &#39;upper_bound&#39;. The &#39;level&#39; column identifies the series to which</span>
<span class="sd">        each interval belongs.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    y_pred_interval_conformal : pandas DataFrame</span>
<span class="sd">        Prediction interval with the correction factor applied.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_fitted</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">NotFittedError</span><span class="p">(</span>
            <span class="s2">&quot;ConformalIntervalCalibrator not fitted yet. Call &#39;fit&#39; with &quot;</span>
            <span class="s2">&quot;training data first.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
            <span class="s2">&quot;`y_pred_interval` must be a pandas DataFrame.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">set</span><span class="p">([</span><span class="s2">&quot;lower_bound&quot;</span><span class="p">,</span> <span class="s2">&quot;upper_bound&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;`y_pred_interval` must have columns &#39;lower_bound&#39; and &#39;upper_bound&#39;.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span> <span class="o">==</span> <span class="s2">&quot;single_series&quot;</span> <span class="ow">and</span> <span class="s1">&#39;level&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">y_pred_interval</span> <span class="o">=</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">y_pred_interval</span><span class="p">[</span><span class="s2">&quot;level&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_input_type_</span> <span class="o">==</span> <span class="s2">&quot;multiple_series&quot;</span> <span class="ow">and</span> <span class="s1">&#39;level&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;The transformer was fitted with multiple series. `y_pred_interval` &quot;</span>
            <span class="s2">&quot;must be a long-format DataFrame with three columns: &#39;level&#39;, &quot;</span>
            <span class="s2">&quot;&#39;lower_bound&#39;, and &#39;upper_bound&#39;. The &#39;level&#39; column identifies &quot;</span>
            <span class="s2">&quot;the series to which each interval belongs.&quot;</span>
        <span class="p">)</span>

    <span class="n">conformalized_intervals</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">y_pred_interval_</span> <span class="ow">in</span> <span class="n">y_pred_interval</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;level&#39;</span><span class="p">)[[</span><span class="s1">&#39;lower_bound&#39;</span><span class="p">,</span> <span class="s1">&#39;upper_bound&#39;</span><span class="p">]]:</span>

        <span class="k">if</span> <span class="n">k</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Series &#39;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&#39; was not seen during fit. Available series are: &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">fit_series_names_</span><span class="si">}</span><span class="s2">.&quot;</span>
            <span class="p">)</span>

        <span class="n">correction_factor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>   
        <span class="n">correction_factor_lower</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_lower_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="n">correction_factor_upper</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">correction_factor_upper_</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>

        <span class="n">index</span> <span class="o">=</span> <span class="n">y_pred_interval_</span><span class="o">.</span><span class="n">index</span>
        <span class="n">y_pred_interval_</span> <span class="o">=</span> <span class="n">y_pred_interval_</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
        <span class="n">y_pred_interval_conformal</span> <span class="o">=</span> <span class="n">y_pred_interval_</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">symmetric_calibration</span><span class="p">:</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">correction_factor</span>
            <span class="p">)</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">correction_factor</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">correction_factor_lower</span>
            <span class="p">)</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">correction_factor_upper</span>
            <span class="p">)</span>

        <span class="c1"># If upper bound is less than lower bound, swap them</span>
        <span class="n">mask</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span>
            <span class="o">&lt;</span> <span class="n">y_pred_interval_conformal</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="p">(</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
        <span class="p">)</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
            <span class="n">y_pred_interval_conformal</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">y_pred_interval_conformal</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
            <span class="n">data</span>    <span class="o">=</span> <span class="n">y_pred_interval_conformal</span><span class="p">,</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;lower_bound&#39;</span><span class="p">,</span> <span class="s1">&#39;upper_bound&#39;</span><span class="p">],</span>
            <span class="n">index</span>   <span class="o">=</span> <span class="n">index</span>
        <span class="p">)</span>
        <span class="n">y_pred_interval_conformal</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;level&#39;</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
        <span class="n">conformalized_intervals</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">y_pred_interval_conformal</span><span class="p">)</span>

    <span class="n">conformalized_intervals</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">conformalized_intervals</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">conformalized_intervals</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 - 2030 Joaquín Amat Rodrigo, Javier Escobar Ortiz
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/skforecast/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/skforecast/skforecast" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://discord.gg/3V52qpNkuj" target="_blank" rel="noopener" title="discord.gg" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener" title="creativecommons.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m253.8 214.9-33.2 17.3c-9.4-19.6-25.2-19.9-27.5-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.6 9.2 43.8 33.2 43.8 14.5 0 24.6-7.1 30.6-21.3l30.6 15.5c-6.2 11.5-25.7 39-65.1 39-22.6 0-74-10.3-74-77 0-58.7 43-77.1 72.6-77.1 30.7 0 52.7 11.9 66 35.9m143 0L364 232.2c-9.5-19.8-25.7-19.9-27.9-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.5 9.2 43.8 33.2 43.8 14.4 0 24.6-7.1 30.5-21.3l31 15.5c-2.1 3.8-21.4 39-65.1 39-22.7 0-74-9.9-74-77 0-58.7 43-77.1 72.6-77.1 30.7 0 52.6 11.9 65.6 35.9zM255.6 8C112.7 8 8 123.1 8 256.1c0 138.4 113.6 248 247.6 248 129.9 0 248.4-100.9 248.4-248C504 118.2 397.4 8 255.6 8m.9 450.8c-112.5 0-203.7-93-203.7-202.8 0-105.4 85.4-203.3 203.7-203.3 112.5 0 202.8 89.5 202.8 203.3 0 121.7-99.7 202.8-202.8 202.8"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            


  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="analytics" checked>
      <span class="task-list-indicator"></span>
      Google Analytics
    </label>
  </li>

      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.top", "toc.integrate", "navigation.breadcrumbs"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
        <script src="../javascripts/version-switcher.js"></script>
      
    
  </body>
</html>